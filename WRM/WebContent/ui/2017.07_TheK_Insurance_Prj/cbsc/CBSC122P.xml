<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="/cm/css/all.css" type="text/css"?>
<?xml-stylesheet href="/cm/css/convert.css" type="text/css"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
  	<head>
    <!--  
        ###################################################
         파일명 : CBSC122P.xml
         프로그램명 : 가스사고배상책임 특약상세입력
         설 명 :  가스사고배상책임 특약상세입력
         작성자 : 진태만
         작성일 : 2017.10.02
 
         수정일자            수정자                  수정내용
        ==================================================
        2017.10.02       진태만          최초작성
        ###################################################
     -->
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data/>
            </xf:instance>
            <w2:dataCollection>
			  
					<!-- 가스배상업종 정보 Ws Ds  --> 
					<w2:dataList baseNode="list" id="DsWs_GasRprtnBntpCd" repeatNode="map" userData2="//*/hashtable/data/vector/data"/> 
           		<!-- 가스배상업종 정보 Ds -->
           		<w2:dataList id="Ds_GasRprtnBntpCd" baseNode="list"
            		saveRemovedData="true" repeatNode="map">
            		<w2:columnInfo>
            			<w2:column id="sCd" name="" dataType="text"></w2:column>
            			<w2:column id="sCdType" name=""
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCdTypeName" name=""
            				dataType="text">
            			</w2:column>
            			<w2:column id="sHnglCdName" name=""
            				dataType="text">
            			</w2:column> 
					 </w2:columnInfo>
					</w2:dataList>		
				
					<!-- 가스배상면적구분 정보 Ws Ds  -->   
                <w2:dataList baseNode="list" id="DsWs_GasRprtnAreaFlagCd" repeatNode="map" userData2="//*/hashtable/data/vector/data"/>
           		<!-- 가스배상면적구분 정보 Ds -->
           		<w2:dataList id="Ds_GasRprtnAreaFlagCd" baseNode="list"
            		saveRemovedData="true" repeatNode="map">
            		<w2:columnInfo>
            			<w2:column id="sCd" name="" dataType="text"></w2:column>
            			<w2:column id="sCdType" name=""
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCdTypeName" name=""
            				dataType="text">
            			</w2:column>
            			<w2:column id="sHnglCdName" name=""
            				dataType="text">
            			</w2:column> 
					 </w2:columnInfo>
					</w2:dataList>	

					<!-- 가스시설용량구분 정보 Ws Ds  -->   
                <w2:dataList baseNode="list" id="DsWs_GasEqmtCpctFlagCd" repeatNode="map" userData2="//*/hashtable/data/vector/data"/>
           		<!-- 가스시설용량구분 정보 Ds -->
           		<w2:dataList id="Ds_GasEqmtCpctFlagCd" baseNode="list"
            		saveRemovedData="true" repeatNode="map">
            		<w2:columnInfo>
            			<w2:column id="sCd" name="" dataType="text"></w2:column>
            			<w2:column id="sCdType" name=""
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCdTypeName" name=""
            				dataType="text">
            			</w2:column>
            			<w2:column id="sHnglCdName" name=""
            				dataType="text">
            			</w2:column> 
					 </w2:columnInfo>
					</w2:dataList>				

					<!-- 도시가스사용구분 정보 Ws Ds  -->   
                <w2:dataList baseNode="list" id="DsWs_CityGasUseFlagCd" repeatNode="map" userData2="//*/hashtable/data/vector/data"/>
           		<!-- 도시가스사용구분 정보 Ds -->
           		<w2:dataList id="Ds_CityGasUseFlagCd" baseNode="list"
            		saveRemovedData="true" repeatNode="map">
            		<w2:columnInfo>
            			<w2:column id="sCd" name="" dataType="text"></w2:column>
            			<w2:column id="sCdType" name=""
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCdTypeName" name=""
            				dataType="text">
            			</w2:column>
            			<w2:column id="sHnglCdName" name=""
            				dataType="text">
            			</w2:column> 
					 </w2:columnInfo>
					</w2:dataList>										
				  
                <w2:dataList baseNode="list" id="Ds_GasEqmtUndgLctnYn" repeatNode="map">                 
                    <w2:columnInfo>
                        <w2:column dataType="text" id="sCdType" name="sCdType"/>
                        <w2:column dataType="text" id="sCdTypeName" name="sCdTypeName"/>
                        <w2:column dataType="text" id="sCd" name="sCd"/>
                        <w2:column dataType="text" id="sHnglCdName" name="sHnglCdName"/>
                        <w2:column dataType="text" id="sEngCdName" name="sEngCdName"/>
                    </w2:columnInfo>					
                    <w2:data use="true">
                        <w2:row>
                            <sCd><![CDATA[Y]]></sCd>
                            <sCdType><![CDATA[GasEqmtUndgLctnYn]]></sCdType>
                            <sCdTypeName><![CDATA[가스시설지하소재여부]]></sCdTypeName>
                            <sEngCdName><![CDATA[Yes]]></sEngCdName>
                            <sHnglCdName><![CDATA[지하시설]]></sHnglCdName>
                        </w2:row>
                        <w2:row>
                            <sCd><![CDATA[N]]></sCd>
                            <sCdType><![CDATA[GasEqmtUndgLctnYn]]></sCdType>
                            <sCdTypeName><![CDATA[가스시설지하소재여부]]></sCdTypeName>
                            <sEngCdName><![CDATA[No]]></sEngCdName>
                            <sHnglCdName><![CDATA[지하시설아님]]></sHnglCdName>
                        </w2:row>
                    </w2:data>
                </w2:dataList>
		
          	<!-- 피보험 목적물 적용 정보 Ds  -->
            	<w2:dataList id="Ds_Prprt_Appl" baseNode="list"
            		saveRemovedData="true" repeatNode="map">
            		<w2:columnInfo>
            			<w2:column id="sPlanNo" name="name1"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nInsrdObjctSeqno" name="name2"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nCrChngNo" name="name3"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsBntpCd" name="name4"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsBntpCdMcls" name="name5"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsBntpObjtFlagCd" name="name6"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRatoBntpCd" name="name7"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRatoBntpCdMcls" name="name8"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRatoBntpObjtFlagCd" name="name9"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sPoleTypeCd" name="name10"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sExtrnWlTypeCd" name="name11"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRoofTypeCd" name="name12"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sBuldgStrtGradCd" name="name13"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sBuldgStrtGradCdNm" name="name14"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nInsArea" name="name15"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nBuldgGrodFlct" name="name16"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nBuldgUndgFlct" name="name17"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sObjctGrodUndgFlagCd"
            				name="name18" dataType="text">
            			</w2:column>
            			<w2:column id="nObjctRelvFlct" name="name19"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sSpclBuldgFlagCd" name="name20"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sSpclBuldgNo" name="name21"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sSpclBuldgTypeCd" name="name22"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sEmplSubCvrgeInsYn" name="name23"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sEqmtOwnRprtnBntpCd"
            				name="name24" dataType="text">
            			</w2:column>
            			<w2:column id="sEqmtScal" name="name25"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sSchlMngrRprtnBntpCd"
            				name="name26" dataType="text">
            			</w2:column>
            			<w2:column id="nStuNum" name="name27"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sParkEqmtFlagCd" name="name28"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nPrkLtArea" name="name29"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nParkAvaCarNum" name="name30"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nPrkLtMachNum" name="name31"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sFoodRprtnBntpCd" name="name32"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nBfyySaleAmt" name="name33"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sGasRprtnBntpCd" name="name34"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sGasRprtnAreaFlagCd"
            				name="name35" dataType="text">
            			</w2:column>
            			<w2:column id="sGasEqmtCpctFlagCd" name="name36"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCityGasUseFlagCd" name="name37"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sGasEqmtUndgLctnYn" name="name38"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sAgreRestTermCd" name="name39"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sOwnrFlagCd" name="name40"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sOwnrDscrNo" name="name41"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sOwnrNm" name="name42"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCrtorReln" name="name43"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sAccptPlac" name="name44"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sPaymTermCd" name="name45"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nRealPaymTerm" name="name46"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsurTermCd" name="name47"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nRealInsurTerm" name="name48"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsrdObjctStatCd" name="name49"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsurStrtdate" name="name50"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsurEndDate" name="name51"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCnclExtnEndDate" name="name52"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sApplPlanCd" name="name53"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sApplPlanName" name="name54"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInptDler" name="name55"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInptDlerIP" name="name56"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInptDate" name="name57"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInptHms" name="name58"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sMdfcDler" name="name59"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sMdfcDlerIP" name="name60"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sMdfcDate" name="name61"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sMdfcHms" name="name62"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nGrntPrem" name="name63"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sel1" name="name64"
            				dataType="text">
            			</w2:column>
            		</w2:columnInfo>
            	</w2:dataList>

            	<!-- 피보험 목적물 정보 Ds  -->
            	<w2:dataList id="Ds_Prprt" baseNode="list"
            		saveRemovedData="true" repeatNode="map">
            		<w2:columnInfo>
            			<w2:column id="sPlanNo" name="name1"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nInsrdObjctSeqno" name="name2"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nCrChngNo" name="name3"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsBntpCd" name="name4"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsBntpCdMcls" name="name5"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsBntpObjtFlagCd" name="name6"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRatoBntpCd" name="name7"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRatoBntpCdMcls" name="name8"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRatoBntpObjtFlagCd" name="name9"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sPoleTypeCd" name="name10"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sExtrnWlTypeCd" name="name11"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRoofTypeCd" name="name12"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sBuldgStrtGradCd" name="name13"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sBuldgStrtGradCdNm" name="name14"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nInsArea" name="name15"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nBuldgGrodFlct" name="name16"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nBuldgUndgFlct" name="name17"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sObjctGrodUndgFlagCd"
            				name="name18" dataType="text">
            			</w2:column>
            			<w2:column id="nObjctRelvFlct" name="name19"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sSpclBuldgFlagCd" name="name20"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sSpclBuldgNo" name="name21"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sSpclBuldgTypeCd" name="name22"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sEmplSubCvrgeInsYn" name="name23"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sEqmtOwnRprtnBntpCd"
            				name="name24" dataType="text">
            			</w2:column>
            			<w2:column id="sEqmtScal" name="name25"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sSchlMngrRprtnBntpCd"
            				name="name26" dataType="text">
            			</w2:column>
            			<w2:column id="nStuNum" name="name27"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sParkEqmtFlagCd" name="name28"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nPrkLtArea" name="name29"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nParkAvaCarNum" name="name30"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nPrkLtMachNum" name="name31"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sFoodRprtnBntpCd" name="name32"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nBfyySaleAmt" name="name33"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sGasRprtnBntpCd" name="name34"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sGasRprtnAreaFlagCd"
            				name="name35" dataType="text">
            			</w2:column>
            			<w2:column id="sGasEqmtCpctFlagCd" name="name36"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCityGasUseFlagCd" name="name37"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sGasEqmtUndgLctnYn" name="name38"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sAgreRestTermCd" name="name39"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sOwnrFlagCd" name="name40"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sOwnrDscrNo" name="name41"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sOwnrNm" name="name42"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCrtorReln" name="name43"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sAccptPlac" name="name44"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sPaymTermCd" name="name45"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nRealPaymTerm" name="name46"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsurTermCd" name="name47"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nRealInsurTerm" name="name48"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsrdObjctStatCd" name="name49"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsurStrtdate" name="name50"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsurEndDate" name="name51"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCnclExtnEndDate" name="name52"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sApplPlanCd" name="name53"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sApplPlanName" name="name54"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInptDler" name="name55"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInptDlerIP" name="name56"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInptDate" name="name57"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInptHms" name="name58"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sMdfcDler" name="name59"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sMdfcDlerIP" name="name60"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sMdfcDate" name="name61"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sMdfcHms" name="name62"
            				dataType="text">
            			</w2:column>
            			<w2:column id="nGrntPrem" name="name63"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sel1" name="name64"
            				dataType="text">
            			</w2:column>
            		</w2:columnInfo>
            	</w2:dataList>				
            </w2:dataCollection>
            <w2:workflowCollection/>
        </xf:model>
        
          <!--// js Script include //--> 
		<script src="/cm/js/convertJs/Global_Script.js"/>
		<script src="/cm/js/convertJs/comm_Webservice.js"/> 
	 	<script src="/cm/js/convertJs/LongTerm_Script.js"/>
 
        <script><![CDATA[
  /****************************************************************************
 * 프로그램번호   : B636_Pop
 * 프로그램명     : 가스사고배상책임 특약상세입력
 * 파일명         : B636_Pop.xml
 * 프로그램 내용  : 가스사고배상책임 특약상세입력
 * 관련 프로그램  : 
 * 작성자         : coolys
 * 작성일         : 2013-06-05
 * 저작권         : Copyright ⓒ 2004. the K 손해보험㈜. All Right Reserved.
 * 변경내역       : 
 ****************************************************************************/

 var applyEnable = "N";  // 설계상태(인수완료)-적용버튼(비활성화)   
var parent_Ds_Prprt = "";		// 부모창 목적물 정보 Ds Set  
var sToday = ""; // 현재일자(서버일자)
 
 //---------------------------------------------------------------------------
// function 명 : FORM_OnLoadCompleted(obj)
// 내용        : FORM OnLoad
//--------------------------------------------------------------------------- 
scwin.init = function() {	
	console.log("[/CBSC122P.xml] [init()] ==> [폼 로딩] [TEST_01]" );
	
	pro = pro.then(function(rv) {
		return util.winTopShowModalPromise();
	});

	pro = pro.then(function(rv) {
		// init 부분 함수 입력하는곳  // =================================================>
			
		var indata = $w.getParameter("param");
		var inJSON = JSON.parse(indata); 	// 부모창에서 받아온 값( 예) inJSON.sMyPlan)
	 
		if (!util.isNull(inJSON.applyEnable)) 	applyEnable = inJSON.applyEnable;	 // 설계상태(인수완료)-적용버튼(비활성화)   
		
		var pObj = wprom.getParamObject();  
		parent_Ds_Prprt = pObj.Ds_Prprt;	// 부모창 목적물 정보 Ds Set 
	   
		if (applyEnable == "Y")  btn_apply.setDisabled(false);
		//console.log("[/CBSC116P.xml] [init()] ==> [폼 로딩] ==> [적용버튼(비활성화)]"+ applyEnable );    	
		
		sToday = WebSquare.date.getCurrentServerDate("yyyyMMdd"); 		// global 현재일자
		
		scwin.lfn_getCommonCodes();	   // 공통코드 조회
		
		// DataSet 초기화
		scwin.lfn_initDataset();
		 
		 // 콤보값 TEST @@@ ===> 01. 가스배상업종(comb): Ds_GasRprtnBntpCd
	// console.log("[/CBSC122P.xml] [lfn_getCommonCodes()] ==> [Ds_GasRprtnBntpCd_갯수]"+ Ds_GasRprtnBntpCd.getRowCount() +"[Ds_GasRprtnBntpCd]"+ WebSquare.xml.serialize(Ds_GasRprtnBntpCd.getAllXML()) ); 
		//cmb_GasRprtnBntpCd.setValue(Ds_Prprt_Appl.getCellData(0, "sGasRprtnBntpCd"));		// 가스배상업종(comb) 콤보값 셋팅 
	//	console.log("[/CBSC119P.xml] [init()] ==> [Ds_Prprt_App.sSchlMngrRprtnBntpC)]"+ Ds_Prprt_Appl.getCellData(0, "sGasRprtnBntpCd") +"[cmb_SchlMngrRprtnBntpCd]"+ cmb_SchlMngrRprtnBntpCd.getValue()  );
	 
		 // 콤보값 TEST @@@ ===>  02. 가스배상면적구분(comb): Ds_GasRprtnAreaFlagCd
		//cmb_GasRprtnAreaFlagCd.setValue(Ds_Prprt_Appl.getCellData(0, "sGasRprtnAreaFlagCd"));		// 가스배상면적구분(comb) 콤보값 셋팅
	 
		// 콤보값 TEST @@@ ===>  03. 가스시설용량구분(comb): Ds_GasEqmtCpctFlagCd
		//cmb_GasEqmtCpctFlagCd.setValue(Ds_Prprt_Appl.getCellData(0, "sGasEqmtCpctFlagCd"));		// 가스시설용량구분(comb) 콤보값 셋팅
	 
		// 콤보값 TEST @@@ ===>  04. 도시가스사용구분(comb): Ds_GasEqmtCpctFlagCd
		//cmb_CityGasUseFlagCd.setValue(Ds_Prprt_Appl.getCellData(0, "sCityGasUseFlagCd"));		// 도시가스사용구분(comb) 콤보값 셋팅
	 
		// 콤보값 TEST @@@ ===>  05.  가스시설지하소재여부(comb): Ds_GasEqmtCpctFlagCd
		//cmb_GasEqmtUndgLctnYn.setValue(Ds_Prprt_Appl.getCellData(0, "sGasEqmtUndgLctnYn"));		//  가스시설지하소재여부(comb) 콤보값 셋팅
	 
		 // 입력값 유효성 체크
		scwin.checkInputValid(); 
		 
		return ;		// init 함수를 종료하고자 할때 사용
		// return Promise.reject("오류관련처리"); // =================================================>
	});

	pro = pro.then(function(rv) {
		util.winTopHideModal();
	});
	
	//pro = pro.catch(function(rj) {
		//util.winTopHideModal();
		//alert(rj); //Promise reject 시 처리 "오류관련처리" 값출력
	//});
	 
	return pro;  
 
	console.log("[/CBSC122P.xml] [init()] ==> [폼 로딩] [TEST_end]" );   
};
 
 //---------------------------------------------------------------------------
// function 명 : lfn_getCommonCodes(obj)
// 내용        : 공통코드 조회
//--------------------------------------------------------------------------
scwin.lfn_getCommonCodes = function() {
	console.log("[/CBSC122P.xml] [lfn_getCommonCodes()] ==> [공통코드 조회_01] [TEST_01]" );
	
	wconv.clear(DsWs_GasRprtnBntpCd); 	// 가스배상업종 Ds
	wconv.clear(DsWs_GasRprtnAreaFlagCd); // 가스배상면적구분 Ds
	wconv.clear(DsWs_GasEqmtCpctFlagCd); // 가스시설용량구분 Ds
	wconv.clear(DsWs_CityGasUseFlagCd); // 도시가스사용구분 Ds
	 
	var dataSets = "DsWs_GasRprtnBntpCd DsWs_GasRprtnAreaFlagCd DsWs_GasEqmtCpctFlagCd DsWs_CityGasUseFlagCd";   
	var columns = "S10 GasRprtnAreaFlagCd GasEqmtCpctFlagCd CityGasUseFlagCd";  
    var objects = "";
    var titleTypes =  "N N N N"; 		// A:전체, S:선택, N:안넣기  
 
	gfn_getCommonCodes(dataSets, columns, objects, titleTypes);    
  
	wconv.copy(Ds_GasRprtnBntpCd, DsWs_GasRprtnBntpCd); 	  				// 가스배상업종 Dataset Copy(Ds_ParkEqmtFlagCd 데이타 생성됨)  
	wconv.copy(Ds_GasRprtnAreaFlagCd, DsWs_GasRprtnAreaFlagCd); 	  // 가스배상면적구분 Dataset Copy(Ds_ParkEqmtFlagCd 데이타 생성됨)  
	wconv.copy(Ds_GasEqmtCpctFlagCd, DsWs_GasEqmtCpctFlagCd); 	  // 가스시설용량구분 Dataset Copy(Ds_ParkEqmtFlagCd 데이타 생성됨)  
	wconv.copy(Ds_CityGasUseFlagCd, DsWs_CityGasUseFlagCd); 	  		// 도시가스사용구분 Dataset Copy(Ds_ParkEqmtFlagCd 데이타 생성됨)  
 
	Ds_Prprt_Appl.setRowPosition(0);	 // Row 위치 0번째로 지정 
    console.log("[/CBSC122P.xml] [lfn_getCommonCodes()] ==> [공통코드 조회] [TEST_end]" );  
};

//---------------------------------------------------------------------------
// function 명 : btn_search_OnClick(obj)
// 내용        : Dataset ClearData
//---------------------------------------------------------------------------
scwin.lfn_initDataset = function() {
   console.log("[/CBSC122P.xml] [lfn_initDataset()] ==> [DataSet 초기화] [TEST_01]" );
 
	wconv.copy(Ds_Prprt_Appl, parent_Ds_Prprt);	 // 음식물배상업종 Dataset Copy(Ds_Prprt_Appl 데이타 생성됨)
 
    util.setRowPosition(Ds_Prprt_Appl, parent_Ds_Prprt.getRowPosition());		// Row 위치 지정
     
	Ds_Prprt_Appl.setRowPosition(0);	 // Row 위치 0번째로 지정 
}; 

//---------------------------------------------------------------------------
// function 명 : btn_Close_OnClick(obj)
// 내용        : 닫기 OnClick
//---------------------------------------------------------------------------
scwin.btn_Close_OnClick = function(obj) {
		//wconv.close();
    wprom.close("");
};

//---------------------------------------------------------------------------
// function 명 : btn_apply_OnClick(obj)
// 내용        : 적용 OnClick
//---------------------------------------------------------------------------
scwin.btn_apply_OnClick = function(obj) {
    //console.log("[/CBSC122P.xml] [btn_apply_OnClick()] ==> [적용] [TEST_01]" );
 
	if (Ds_Prprt_Appl.getRowCount() < 1) {
    //if (Ds_Prprt_Appl.getFocusedRowIndex() < 0) {
        wprom.alert("목적물이 입력되지 않았습니다!");
        return;
    }
    if (wconv.trim(cmb_GasRprtnBntpCd.getValue()) == null || wconv.trim(cmb_GasRprtnBntpCd.getValue()) == "") {
        wprom.alert("가스배상업종을 선택하세요!");
        cmb_GasRprtnBntpCd.focus();
        return;
    }

    // 도시가스사용구분(도시가스사용자)
    if (cmb_CityGasUseFlagCd.getValue() == "02") {
        if (wconv.trim(cmb_GasRprtnAreaFlagCd.getValue()) == null || wconv.trim(cmb_GasRprtnAreaFlagCd.getValue()) == "") {
            wprom.alert("가스배상면적구분을 선택하세요!");
            cmb_GasRprtnAreaFlagCd.focus();
            return;
        }
    }

    // 도시가스사용구분(액화석유가스사용자)
    if (cmb_CityGasUseFlagCd.getValue() == "01") {
        // 가스배상업종에 "일반공장(저장시설 없는 경우) 또는 일반공장(저장시설 있는 경우)" 선택시
        if (cmb_GasRprtnBntpCd.getValue() == "03" || cmb_GasRprtnBntpCd.getValue() == "04") {
            if (wconv.trim(cmb_GasEqmtCpctFlagCd.getValue()) == null || wconv.trim(cmb_GasEqmtCpctFlagCd.getValue()) == "") {
                wprom.alert("가스시설용량구분을 선택하세요!");
                cmb_GasEqmtCpctFlagCd.focus();
                return;
            }
        }
    }
    if (wconv.trim(cmb_CityGasUseFlagCd.getValue()) == null || wconv.trim(cmb_CityGasUseFlagCd.getValue()) == "") {
        wprom.alert("도시가스사용구분을 선택하세요!");
        cmb_CityGasUseFlagCd.focus();
        return;
    }
    if (wconv.trim(cmb_GasEqmtUndgLctnYn.getValue()) == null || wconv.trim(cmb_GasEqmtUndgLctnYn.getValue()) == "") {
        wprom.alert("가스시설지하소재여부를 선택하세요!");
        cmb_GasEqmtUndgLctnYn.focus();
        return;
    }

	wconv.copy(parent_Ds_Prprt, Ds_Prprt_Appl);	   // 보험 목적물 적용 정보 Ds(Ds_Prprt_Appl)을 parent_Ds_Prprt에 복사  
    parent_Ds_Prprt.setRowPosition(Ds_Prprt_Appl.getRowPosition());	 // Row 위치 Ds_Prprt_Appl.getRowPosition() 번째로 지정 
    //console.log("[/CBSC122P.xml] [btn_apply_OnClick()] ==> [적용] [Ds_Prprt_Appl.getRowPosition]"+ Ds_Prprt_Appl.getRowPosition() +"[parent_Ds_Prprt.getRowPosition]"+ parent_Ds_Prprt.getRowPosition() );
    //console.log("[/CBSC122P.xml] [btn_apply_OnClick()] ==> [적용] [parent_Ds_Prprt, 조회수]"+ parent_Ds_Prprt.getRowCount() +"[parent_Ds_Prprt]"+ WebSquare.xml.serialize(parent_Ds_Prprt.getAllXML()) );
	
    wprom.close("");	 // 창닫기
};

//---------------------------------------------------------------------------
// function 명 : cmb_GasRprtnBntpCd_OnChanged
// 내용        : 가스배상업종 OnChanged
//---------------------------------------------------------------------------
scwin.cmb_GasRprtnBntpCd_OnChanged = function() {
	//console.log("[/CBSC122P.xml] [cmb_GasRprtnBntpCd_OnChanged()] ==> [가스배상업종 OnChanged] [TEST_01]" ); 
 	scwin.checkInputValid();	// 입력값 유효성 체크
};

//---------------------------------------------------------------------------
// function 명 : cmb_GasRprtnAreaFlagCd_OnChanged
// 내용        : 가스배상면적구분 OnChanged
//--------------------------------------------------------------------------- 
scwin.cmb_GasRprtnAreaFlagCd_OnChanged = function() {
	scwin.checkInputValid();	// 입력값 유효성 체크
};

//---------------------------------------------------------------------------
// function 명 : cmb_GasEqmtCpctFlagCd_OnChanged
// 내용        : 가스시설용량구분 OnChanged
//--------------------------------------------------------------------------- 
scwin.cmb_GasEqmtCpctFlagCd_OnChanged = function() {
 	scwin.checkInputValid();	// 입력값 유효성 체크
};

//---------------------------------------------------------------------------
// function 명 : cmb_GasEqmtCpctFlagCd_OnChanged
// 내용        : 도시가스사용구분 OnChanged
//--------------------------------------------------------------------------- 
scwin.cmb_CityGasUseFlagCd_OnChanged = function() {
	scwin.checkInputValid();	// 입력값 유효성 체크
};

//---------------------------------------------------------------------------
// function 명 : checkInputValid
// 내용        : 입력값 유효성 체크
//---------------------------------------------------------------------------
scwin.checkInputValid = function() {
	//console.log("[/CBSC122P.xml] [checkInputValid()] ==> [입력값 유효성 체크] [TEST_01] [cmb_GasRprtnBntpCd.getValue()]"+ cmb_GasRprtnBntpCd.getValue()  );
	
    // 가스배상업종에 "다방/제과점/휴게실 또는 음식점/주점 등" 선택시
    if (cmb_GasRprtnBntpCd.getValue() == "01" || cmb_GasRprtnBntpCd.getValue() == "02") {
        // 가스배상면적구분에서 "82.5m2까지 부터 660m2초과 까지"만 선택 가능(선택가능한 항목들만 보이게 제어)
        wconv.filter(Ds_GasRprtnAreaFlagCd, "sCd>='01' && sCd<='06'");
        
        if (!((cmb_GasRprtnAreaFlagCd.getValue() >= "01" && cmb_GasRprtnAreaFlagCd.getValue() <= "06")))
            cmb_GasRprtnAreaFlagCd.setValue(""); 	// 02. 가스배상면적구분	
            // 가스시설용량구분 항목 비활성화
	        cmb_GasEqmtCpctFlagCd.setDisabled(true);	  
	        cmb_GasEqmtCpctFlagCd.setValue("");  // 가스시설용량구분
	        cmb_GasRprtnAreaFlagCd.setDisabled(false);	// 02. 가스배상면적 
	        //console.log("[/CBSC122P.xml] [checkInputValid()] ==> [가스시설용량구분 항목 비활성화 처리]"  );
        
    } else if (cmb_GasRprtnBntpCd.getValue() == "03" || cmb_GasRprtnBntpCd.getValue() == "04") {
        // 가스배상면적구분에서 "1,350m2까지 부터 1,350,000m2초과 까지"만 선택 가능(선택가능한 항목들만 보이게 제어)
        wconv.filter(Ds_GasRprtnAreaFlagCd, "sCd>='07' && sCd<='16'");
        
        if (!((cmb_GasRprtnAreaFlagCd.getValue() >= "07" && cmb_GasRprtnAreaFlagCd.getValue() <= "16")))
 			cmb_GasRprtnAreaFlagCd.setValue("");	// 02. 가스배상면적구분
        	// 가스시설용량구분 항목 활성화
      		cmb_GasEqmtCpctFlagCd.setDisabled(false);
        
        // 도시가스사용구분에서 "액화석유가스사용자" 선택하는 경우 가스배상면적구분 입력불가
        if (cmb_CityGasUseFlagCd.getValue() == "01") {
            if (cmb_GasRprtnAreaFlagCd.getValue() != "") {
                wprom.alert("일반공장의 경우 액화석유가스사용자는 가스배상면적구분을 선택할 수 없습니다.\n가스시설용량구분을 선택하십시오.");
            }
            cmb_GasRprtnAreaFlagCd.setDisabled(true);
			cmb_GasRprtnAreaFlagCd.setValue("");	// 02. 가스배상면적구분
            cmb_GasEqmtCpctFlagCd.setDisabled(false);
            
        } else if (cmb_CityGasUseFlagCd.getValue() == "02") {
            if (cmb_GasEqmtCpctFlagCd.getValue() != "") {
                wprom.alert("일반공장의 경우 도시가스사용자는 가스시설용량구분을 선택할 수 없습니다.\n가스배상면적구분을 선택하십시오.");
            }
            cmb_GasEqmtCpctFlagCd.setDisabled(true);
            cmb_GasEqmtCpctFlagCd.setValue("");
            cmb_GasRprtnAreaFlagCd.setDisabled(false);
        }
    }
}; 
 
 
	]]></script>
    </head>
    <body>
        <xf:group class="cont_wrap layer" id="B636_Pop"
            style="position:absolute; WorkArea:true;  Ver:1.0;  PidAttrib:7;  /*height:245px;*/ left:0px; top:0px;/* width:416px;"
            userData1="특약상세입력[B636_Pop]" userData2=" OnLoadCompleted:scwin.B636_OnLoadCompleted; ">
            <DataObjects>
                <DataObject/>
            </DataObjects>
            <ServiceObjects>
                <ServiceObject/>
            </ServiceObjects>
            <xf:group arcsize="8" class="sty_area_form" id="Shape0"
                style="position:absolute; right:410px;    bottom:58px; height:26px;left:0px;top:30px; width:406px;" userData3="Rectangle"/>
            <xf:group arcsize="8" class="sty_area_form" id="Shape2"
                style="position:absolute; right:410px;    bottom:95px; height:126px;left:0px;top:67px; width:406px;" userData3="Rectangle">
                <xf:group class="form_w_line" id="" style="top:24px;" />
                <xf:group class="form_w_line" id="" style="top:49px;" />
                <xf:group class="form_w_line" id="" style="top:74px;" />
                <xf:group class="form_w_line" id="" style="top:99px;" />
            </xf:group>
            <w2:textbox id="Static5" label="특약상세입력" style="position:absolute; VAlign:Middle;  height:20px; left:0px; top:0px; " tagname="" class="sub_pop_title01">
</w2:textbox>
            
            <w2:textbox class="sty_lb_Detail" id="Static1" label=" 가스사고배상책임"
                style="position:absolute; WordWrap:TRUE;  VAlign:Middle;  height:22px;left:158px;top:33px; width:240px;" tagname=""/>
            <w2:textbox class="sty_lb_Basic" id="Static17" label="가스배상업종"
                style="position:absolute; VAlign:Middle;  height:24px;left:0px;top:67px; width:136px;" tagname=""/>
            <xf:trigger class="popup_top_btn" disabled="true" ev:onclick="scwin.btn_apply_OnClick" id="btn_apply"
                style="position:absolute;ImageID:btn_Input_02;height:20px;width:25px;left:307px;top:0px;" tabIndex="6" type="anchor">
                <xf:label><![CDATA[적용]]></xf:label>
            </xf:trigger>
            <xf:trigger class="popup_top_btn" ev:onclick="scwin.btn_Close_OnClick" id="btn_Close"
                style="position:absolute;ImageID:btn_Comm_Close;height:20px;width:25px;left:356px;top:0px;" tabIndex="7" type="anchor">
                <xf:label><![CDATA[닫기]]></xf:label>
            </xf:trigger>
            <w2:textbox class="sty_lb_Basic" id="Static2" label="특약명"
                style="position:absolute; VAlign:Middle;  height:24px;left:0px;top:30px; width:136px;" tagname=""/>
            <xf:select1 appearance="minimal" class="sty_ipt_form" emptyItem="true" ev:onchange="scwin.cmb_GasRprtnBntpCd_OnChanged"
                id="cmb_GasRprtnBntpCd" ref="data:Ds_Prprt_Appl.sGasRprtnBntpCd"
                style="position:absolute;INDEX:1;height:20px;width:235px;border-style:solid;left:158px;top:70px;" tabIndex="1" renderType="native">
                <xf:choices>
                    <xf:itemset nodeset="data:Ds_GasRprtnBntpCd">
                        <xf:label ref="sHnglCdName"/>
                        <xf:value ref="sCd"/>
                    </xf:itemset>
                </xf:choices>
            </xf:select1>
            <w2:textbox class="sty_lb_Basic" id="Static0" label="가스배상면적구분"
                style="position:absolute; VAlign:Middle;  height:24px;left:0px;top:92px; width:136px;" tagname=""/>
            <xf:select1 appearance="minimal" class="sty_ipt_form" emptyItem="true" ev:onchange="scwin.cmb_GasRprtnAreaFlagCd_OnChanged"
                id="cmb_GasRprtnAreaFlagCd" ref="data:Ds_Prprt_Appl.sGasRprtnAreaFlagCd"
                style="position:absolute;INDEX:1;height:20px;width:235px;border-style:solid;left:158px;top:95px;" tabIndex="2" renderType="native">
                <xf:choices>
                    <xf:itemset nodeset="data:Ds_GasRprtnAreaFlagCd">
                        <xf:label ref="sHnglCdName"/>
                        <xf:value ref="sCd"/>
                    </xf:itemset>
                </xf:choices>
            </xf:select1>
            <w2:textbox class="sty_lb_Basic" id="Static3" label="가스시설용량구분"
                style="position:absolute; VAlign:Middle;  height:24px;left:0px;top:117px; width:136px;" tagname=""/>
            <xf:select1 appearance="minimal" class="sty_ipt_form" emptyItem="true" ev:onchange="scwin.cmb_GasEqmtCpctFlagCd_OnChanged"
                id="cmb_GasEqmtCpctFlagCd" ref="data:Ds_Prprt_Appl.sGasEqmtCpctFlagCd"
                style="position:absolute;INDEX:1;height:20px;width:235px;border-style:solid;left:158px;top:120px;" tabIndex="3" renderType="native">
                <xf:choices>
                    <xf:itemset nodeset="data:Ds_GasEqmtCpctFlagCd">
                        <xf:label ref="sHnglCdName"/>
                        <xf:value ref="sCd"/>
                    </xf:itemset>
                </xf:choices>
            </xf:select1>
            <w2:textbox class="sty_lb_Basic" id="Static4" label="도시가스사용구분"
                style="position:absolute; VAlign:Middle;  height:24px;left:0px;top:142px; width:136px;" tagname=""/>
            <xf:select1 appearance="minimal" class="sty_ipt_form" emptyItem="true" ev:onchange="scwin.cmb_CityGasUseFlagCd_OnChanged"
                id="cmb_CityGasUseFlagCd" ref="data:Ds_Prprt_Appl.sCityGasUseFlagCd"
                style="position:absolute;INDEX:1;height:20px;width:235px;border-style:solid;left:158px;top:145px;" tabIndex="4" renderType="native">
                <xf:choices>
                    <xf:itemset nodeset="data:Ds_CityGasUseFlagCd">
                        <xf:label ref="sHnglCdName"/>
                        <xf:value ref="sCd"/>
                    </xf:itemset>
                </xf:choices>
            </xf:select1>
            <w2:textbox class="sty_lb_Basic" id="Static6" label="가스시설지하소재여부"
                style="position:absolute; VAlign:Middle;  height:24px;left:0px;top:167px; width:136px;" tagname=""/>
            <xf:select1 appearance="minimal" class="sty_ipt_form" emptyItem="true" id="cmb_GasEqmtUndgLctnYn"
                ref="data:Ds_Prprt_Appl.sGasEqmtUndgLctnYn"
                style="position:absolute;INDEX:1;height:20px;width:235px;border-style:solid;left:158px;top:170px;" tabIndex="5" renderType="native">
                <xf:choices>
                    <xf:itemset nodeset="data:Ds_GasEqmtUndgLctnYn">
                        <xf:label ref="sHnglCdName"/>
                        <xf:value ref="sCd"/>
                    </xf:itemset>
                </xf:choices>
            </xf:select1>
        </xf:group>
    </body>
</html>
