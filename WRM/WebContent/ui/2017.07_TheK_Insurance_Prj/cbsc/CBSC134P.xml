<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="/cm/css/all.css" type="text/css"?>
<?xml-stylesheet href="/cm/css/new.css" type="text/css"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head>
		<w2:type>DEFAULT</w2:type>
		<w2:buildDate />
		<xf:model>
			<xf:instance>
				<data xmlns="" />
			</xf:instance>
			<w2:dataCollection baseNode="map">
				
			</w2:dataCollection>
		</xf:model>
		<script src="/cm/js/convertJs/Global_Script.js"/>
		<script src="/cm/js/convertJs/comm_Webservice.js"/>
		<script src="/cm/js/convertJs/LongTerm_Script.js"/>
		<script src="/cm/js/convertJs/NewGen_Script.js"/>
		<script src="/cm/js/convertJs/Marine_Script.js"/>
		<script type="javascript"><![CDATA[
			//---------------------------------------------------------------------------
			// function 명 : scwin.init
			// 내용        : onLoad
			//---------------------------------------------------------------------------
			scwin.init = function() {
				var indata = $w.getParameter("param");
				indata = JSON.parse(indata);
			    //화면초기화
			    if (indata != null && indata != undefined) {
			        msk_sGroupCrAdmNo.setValue(indata.sGroupCrAdmNo==undefined?"":indata.sGroupCrAdmNo);
	        		edt_sGroupName.setValue(indata.sGroupName==undefined?"":indata.sGroupName);
	        		medt_nFrstPsct.setValue(indata.nFrstPsct==undefined?"":indata.nFrstPsct);
	        		edt_nGroupDcrt.setValue(indata.nGroupDcrt==undefined?"":indata.nGroupDcrt);
			    }
			};

			//---------------------------------------------------------------------------
			// function 명 : btnGroupList_OnClick
			// 내용        : 팝업체크
			//---------------------------------------------------------------------------
			scwin.btnGroupList_OnClick = function(e){
				var promise = Promise.resolve();
				promise = promise.then(function(rtnVal) {
		            var indata = new Object();
		            var popInfo = {"width":1065,
		    	                   "height":680,
		    	                   "indata":indata,
		    	                   "callback"  : scwin.popupCallback,
								   "title"     : "단체관리번호조회"
		    	                  };
		    	    return wprom.popupOpen("/ui/cbsc/CBSC037M.xml", popInfo);  
		        });
		        promise = promise.then(function(rv) {
		        	//alert(JSON.stringify(rv));
		        	var args = rv.split("^");
		        	if (wconv.length(args) > 0) {
		        		msk_sGroupCrAdmNo.setValue(args[0]);
		        		edt_sGroupName.setValue(args[2]);
		        		medt_nFrstPsct.setValue(args[5]);
		        		edt_nGroupDcrt.setValue(wconv.toString(wconv.toNumber(args[7]) * 100));
		        	}
					//var rtnValue = wprom.getReturnData();
					//alert(JSON.stringify(rtnValue));
					//console.log("====CBSC008P promise close \n"+JSON.stringify(rtnValue));
					//if (rtnValue != "") {
					//}
				});
			};
			
			//---------------------------------------------------------------------------
			// function 명 : lfn_OnConfirm
			// 내용        : 화면확인
			//---------------------------------------------------------------------------
			scwin.lfn_OnConfirm = function(e){
				var result = new Object();
		        result.sGroupCrAdmNo = msk_sGroupCrAdmNo.getValue();
		        result.sGroupName = edt_sGroupName.getValue();
		        result.nFrstPsct = medt_nFrstPsct.getValue();
		        result.nGroupDcrt = edt_nGroupDcrt.getValue();
		        
		        wprom.close(result);
			};
			
			//---------------------------------------------------------------------------
			// function 명 : lfn_OnClose
			// 내용        : 화면종료
			//---------------------------------------------------------------------------
			scwin.lfn_OnClose = function(e) {
			    wprom.close();
			};
	]]></script>
	</head>
	<body>
		<xf:group class="contentWrap layer" id="" style="">

			<!-- group:s -->
			<xf:group id="" style="" class="section">
				<xf:group class="defaultbox" id="" style="">
					<xf:group class="fr" id="" style="">
						<w2:anchor class="btn_nml" ev:onclick="scwin.lfn_OnConfirm" id="" outerDiv="true">
							<xf:label><![CDATA[확인]]></xf:label>
						</w2:anchor>
						<w2:anchor class="btn_nml" ev:onclick="scwin.lfn_OnClose" id="btn_Close" outerDiv="true" style="">
							<xf:label><![CDATA[닫기]]></xf:label>
						</w2:anchor>
					</xf:group>
					<w2:textbox class="df_tt fl" id="" label="메모" style="">
					</w2:textbox>
				</xf:group>
				<xf:group id="" style="" class="w2tb tb"
					tagname="table">
					<w2:attributes>
						<w2:summary></w2:summary>
					</w2:attributes>
					<xf:group tagname="colgroup">
						<xf:group style="width:90.00px;"
							tagname="col">
						</xf:group>
						<xf:group style="" tagname="col"></xf:group>
						<xf:group style="width:90.00px;"
							tagname="col">
						</xf:group>
						<xf:group style="" tagname="col"></xf:group>
					</xf:group>
					<xf:group style="" tagname="tr">
						<xf:group style="" class="w2tb_th"
							tagname="th">
							단체관리번호
						</xf:group>
						<xf:group style="" class="w2tb_td"
							tagname="td">
							<xf:group class="input_btn icon sch"
								style="">
								<xf:input id="msk_sGroupCrAdmNo" ref="" style=""
									disabled="true" displayFormat="##-####">
								</xf:input>
								<w2:anchor class="" ev:onclick="scwin.btnGroupList_OnClick" id="btnGroupList"
									outerDiv="" style="">
									<xf:label><![CDATA[저장]]></xf:label>
								</w2:anchor>
							</xf:group>
						</xf:group>
						<xf:group class="w2tb_th" tagname="th">
							단체관리명
						</xf:group>
						<xf:group class="w2tb_td" tagname="td">
							<xf:input id="edt_sGroupName" style="" disabled="true"></xf:input>
						</xf:group>
					</xf:group>
					<xf:group tagname="tr" style="">
						<xf:group class="w2tb_th" tagname="th">
							최초인원수
						</xf:group>
						<xf:group class="w2tb_td" tagname="td">
							<xf:input disabled="true" id="medt_nFrstPsct"
								style="width:50px;text-align:right;" displayFormat="###,###,###,###">
							</xf:input>
						</xf:group>
						<xf:group class="w2tb_th" tagname="th">
							단체할인율
						</xf:group>
						<xf:group class="w2tb_td" tagname="td">
							<xf:input disabled="true" id="edt_nGroupDcrt"
								style="width:50px;text-align:right;" >>
							</xf:input>
							<w2:textbox class="txt_bw" id="" label="%"
								tagname="span" style="">
							</w2:textbox>
						</xf:group>
					</xf:group>
				</xf:group>
				
			</xf:group>
			<!-- group:e -->
			
			<!-- group:s -->
			<!-- group:e -->
			
		</xf:group>
	</body>
</html>