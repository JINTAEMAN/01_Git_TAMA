<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="/cm/css/all.css" type="text/css"?>
<?xml-stylesheet href="/cm/css/convert.css" type="text/css"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head>
        <w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data/>
            </xf:instance>
            <w2:dataCollection>
            	<w2:dataList baseNode="list" id="Ds_LTIEA14"
            		repeatNode="map">
            		<w2:columnInfo>
            			<w2:column dataType="text" id="sCrNo"
            				name="sCrNo" />
            			<w2:column dataType="text" id="sGdCdName"
            				name="sGdCdName" />
            			<w2:column dataType="text" id="sCrtorCd"
            				name="sCrtorCd" />
            			<w2:column dataType="text" id="sCrtorName"
            				name="sCrtorName" />
            			<w2:column dataType="text" id="sPaymTermCd"
            				name="sPaymTermCd" />
            			<w2:column dataType="text" id="sPaymTermCdName"
            				name="sPaymTermCdName" />
            			<w2:column dataType="text" id="sInsurTermCd"
            				name="sInsurTermCd" />
            			<w2:column dataType="text" id="sInsurTermCdName"
            				name="sInsurTermCdName" />
            			<w2:column dataType="text"
            				id="sInsurTermPaymTermName"
            				name="sInsurTermPaymTermName" />
            			<w2:column dataType="text" id="sRqstDate"
            				name="sRqstDate" />
            			<w2:column dataType="text" id="sRqstHms"
            				name="sRqstHms" />
            			<w2:column dataType="text" id="sRqstHdqtCd"
            				name="sRqstHdqtCd" />
            			<w2:column dataType="text" id="sRqstHdqtName"
            				name="sRqstHdqtName" />
            			<w2:column dataType="text" id="sRqstDeptOffcCd"
            				name="sRqstDeptOffcCd" />
            			<w2:column dataType="text"
            				id="sRqstDeptOffcName" name="sRqstDeptOffcName" />
            			<w2:column dataType="text" id="sRqstCentrCd"
            				name="sRqstCentrCd" />
            			<w2:column dataType="text" id="sRqstCentrName"
            				name="sRqstCentrName" />
            			<w2:column dataType="text" id="sRqstTeamCd"
            				name="sRqstTeamCd" />
            			<w2:column dataType="text" id="sRqstTeamName"
            				name="sRqstTeamName" />
            			<w2:column dataType="text" id="sRqstGroupCd"
            				name="sRqstGroupCd" />
            			<w2:column dataType="text" id="sRqstGroupName"
            				name="sRqstGroupName" />
            			<w2:column dataType="text" id="sRqstPartCd"
            				name="sRqstPartCd" />
            			<w2:column dataType="text" id="sRqstPartName"
            				name="sRqstPartName" />
            			<w2:column dataType="text" id="sRqstCd"
            				name="sRqstCd" />
            			<w2:column dataType="text" id="sRqstName"
            				name="sRqstName" />
            			<w2:column dataType="date" id="sRqstItem"
            				name="sRqstItem" />
            			<w2:column dataType="text" id="sChngItem"
            				name="sChngItem" />
            			<w2:column dataType="text" id="sRqstCont"
            				name="sRqstCont" />
            			<w2:column dataType="text" id="sDlngCont"
            				name="sDlngCont" />
            			<w2:column dataType="text" id="sDlngDeptOffcCd"
            				name="sDlngDeptOffcCd" />
            			<w2:column dataType="text"
            				id="sDlngDeptOffcName" name="sDlngDeptOffcName" />
            			<w2:column dataType="text" id="sDlngHdqtCd"
            				name="sDlngHdqtCd" />
            			<w2:column dataType="text" id="sDlngHdqtName"
            				name="sDlngHdqtName" />
            			<w2:column dataType="text" id="sDlngCentrCd"
            				name="sDlngCentrCd" />
            			<w2:column dataType="text" id="sDlngCentrName"
            				name="sDlngCentrName" />
            			<w2:column dataType="text" id="sDlngTeamCd"
            				name="sDlngTeamCd" />
            			<w2:column dataType="text" id="sDlngTeamName"
            				name="sDlngTeamName" />
            			<w2:column dataType="text" id="sDlngGroupCd"
            				name="sDlngGroupCd" />
            			<w2:column dataType="text" id="sDlngGroupName"
            				name="sDlngGroupName" />
            			<w2:column dataType="text" id="sDlngPartCd"
            				name="sDlngPartCd" />
            			<w2:column dataType="text" id="sDlngPartName"
            				name="sDlngPartName" />
            			<w2:column dataType="text" id="sDlngCd"
            				name="sDlngCd" />
            			<w2:column dataType="text" id="sDlngName"
            				name="sDlngName" />
            			<w2:column dataType="text" id="sDlngResltCd"
            				name="sDlngResltCd" />
            		</w2:columnInfo>
            	</w2:dataList>
            	<w2:dataList baseNode="list" id="Ds_Sayu"
            		repeatNode="map">
            		<w2:columnInfo>
            			<w2:column id="chk1" name="chk1"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCrChngName1" name="sCrChngName1"
            				dataType="text">
            			</w2:column>
            			<w2:column id="chk2" name="chk2"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCrChngName2" name="sCrChngName2"
            				dataType="text">
            			</w2:column>
            			<w2:column id="enable1" name="enable1"
            				dataType="text">
            			</w2:column>
            			<w2:column id="enable2" name="enable2"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCrNo" name="sCrNo" dataType="text">
            			</w2:column>
            			<w2:column id="sCrNo" name="sCrNo"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sGdCdName" name="sGdCdName"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCrtorCd" name="sCrtorCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sCrtorName" name="sCrtorName"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sPaymTermCd" name="sPaymTermCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sPaymTermCdName"
            				name="sPaymTermCdName" dataType="text">
            			</w2:column>
            			<w2:column id="sInsurTermCd" name="sInsurTermCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sInsurTermCdName"
            				name="sInsurTermCdName" dataType="text">
            			</w2:column>
            			<w2:column id="sInsurTermPaymTermName"
            				name="sInsurTermPaymTermName" dataType="text">
            			</w2:column>
            			<w2:column id="sRqstDate" name="sRqstDate"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRqstHms" name="sRqstHms"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRqstHdqtCd" name="sRqstHdqtCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRqstHdqtName"
            				name="sRqstHdqtName" dataType="text">
            			</w2:column>
            			<w2:column id="sRqstCentrCd" name="sRqstCentrCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRqstCentrName"
            				name="sRqstCentrName" dataType="text">
            			</w2:column>
            			<w2:column id="sRqstTeamCd" name="sRqstTeamCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRqstTeamName"
            				name="sRqstTeamName" dataType="text">
            			</w2:column>
            			<w2:column id="sRqstGroupCd" name="sRqstGroupCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRqstGroupName"
            				name="sRqstGroupName" dataType="text">
            			</w2:column>
            			<w2:column id="sRqstPartCd" name="sRqstPartCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRqstPartName"
            				name="sRqstPartName" dataType="text">
            			</w2:column>
            			<w2:column id="sRqstCd" name="sRqstCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRqstName" name="sRqstName"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRqstItem" name="sRqstItem"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sChngItem" name="sChngItem"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sRqstCont" name="sRqstCont"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sDlngCont" name="sDlngCont"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sDlngHdqtCd" name="sDlngHdqtCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sDlngHdqtName"
            				name="sDlngHdqtName" dataType="text">
            			</w2:column>
            			<w2:column id="sDlngCentrCd" name="sDlngCentrCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sDlngCentrName"
            				name="sDlngCentrName" dataType="text">
            			</w2:column>
            			<w2:column id="sDlngTeamCd" name="sDlngTeamCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sDlngTeamName"
            				name="sDlngTeamName" dataType="text">
            			</w2:column>
            			<w2:column id="sDlngGroupCd" name="sDlngGroupCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sDlngGroupName"
            				name="sDlngGroupName" dataType="text">
            			</w2:column>
            			<w2:column id="sDlngPartCd" name="sDlngPartCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sDlngPartName"
            				name="sDlngPartName" dataType="text">
            			</w2:column>
            			<w2:column id="sDlngCd" name="sDlngCd"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sDlngName" name="sDlngName"
            				dataType="text">
            			</w2:column>
            			<w2:column id="sDlngResltCd" name="sDlngResltCd"
            				dataType="text">
            			</w2:column>
            		</w2:columnInfo>
            	</w2:dataList>
            	<w2:dataList baseNode="list" id="Ds_RqstItem"
            		repeatNode="map">
            		<w2:columnInfo>
            			<w2:column dataType="text" id="sCd" name="sCd" />
            			<w2:column dataType="text" id="sText"
            				name="sText" />
            		</w2:columnInfo>
            		<w2:data use="true">
            			<w2:row>
            				<sCd><![CDATA[1]]></sCd>
            				<sText><![CDATA[계약변경]]></sText>
            			</w2:row>
            			<w2:row>
            				<sCd><![CDATA[2]]></sCd>
            				<sText><![CDATA[제지급]]></sText>
            			</w2:row>
            		</w2:data>
            	</w2:dataList>
            	<w2:dataList baseNode="list" id="DsWs_Sayu"
            		repeatNode="map" userData2="//*/vector/data/LTIEA24" />
            	<w2:dataList baseNode="list" id="DsWs_SayuWarning"
            		repeatNode="map" userData2="//*/WARNING" />
            	<w2:dataList baseNode="list" id="DsWs_LTIEA14"
            		repeatNode="map" userData2="//*/LTIEA14" />
            	<w2:dataList baseNode="list" id="DsWs_selectWarning"
            		repeatNode="map" userData2="//*/WARNING" />
            	<w2:dataList baseNode="list" id="DsWs_Login"
            		repeatNode="map" userData2="//*/PWD" />
            	<w2:dataList baseNode="list" id="DsWs_saveWarning"
            		repeatNode="map" userData2="//*/WARNING" />
            	<w2:dataList baseNode="list" id="DsWs_ReLTIEA14"
            		repeatNode="map" userData2="//*/LTIEA14" />
            	<w2:dataList baseNode="list" id="DsWs_DlngResltCd"
            		repeatNode="map" />
            	<w2:dataList id="WARNING" baseNode="list"
            		saveRemovedData="true" repeatNode="map">
            		<w2:columnInfo>
            			<w2:column id="msg" name="name1"
            				dataType="text">
            			</w2:column>
            			<w2:column id="level" name="name2"
            				dataType="text">
            			</w2:column>
            			<w2:column id="detail" name="name3"
            				dataType="text">
            			</w2:column>
            			<w2:column id="timestamp" name="name4"
            				dataType="text">
            			</w2:column>
            		</w2:columnInfo>
            	</w2:dataList>
            </w2:dataCollection>
            <w2:workflowCollection/>
        </xf:model>
            <script src="/cm/js/convertJs/Global_Script.js" />
	<script src="/cm/js/convertJs/LongTerm_Script.js" />
	<script src="/cm/js/convertJs/comm_Webservice.js" />   
	<script src="/cm/js/convertJs/Marine_Script.js" />
        <script><![CDATA[
/*D560_Pop.xml에서 호출 (callee ID):  B450_Pop
D560_Pop.xml을 호출   (caller ID):  D020
■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■*/
/****************************************************************************
 * 프로그램번호   : D560_Pop
 * 프로그램명     : 계약변경 및 제지급 결재
 * 파일명         : D560_Pop.xml
 * 프로그램 내용  : 계약변경 및 제지급 결재
 * 관련 프로그램  : 
 * 작성자         : 김하윤
 * 작성일         : 2010-12-15
 * 저작권         : Copyright ⓒ 2004. the K 손해보험㈜. All Right Reserved.
 * 변경내역       : 
 ****************************************************************************/
var sCrNo;
var sToday;
var rqstFlag; //인수요청01,승인""
var nRqstSeqno; //변경번호
var pageNo;
var pageSize;
var fv_args;
var fsCrChngCd;
//var firstChk=""; 
//---------------------------------------------------------------------------
// function 명 : lfn_Init
// 내용        : 화면 onload
//---------------------------------------------------------------------------
scwin.init = function(){
	scwin.lfn_Init();
};

//-----------------------------------------------------------
scwin.lfn_Init = function() {
wprom.setPopupInit(727, 740, "계약변경 및 제지급 요청");
	var indata = $w.getParameter("param");
	try {
		fv_args = JSON.parse(indata);
			rqstFlag = fv_args.rqstFlag;		
		 	sCrNo = fv_args.sCrNo;	
		 	nRqstSeqno = fv_args.nRqstSeqno;		
	} catch(e) {
	};	
    // 현재시간 setting
    //global.http.Sync = true;
    //getServerTime();
    //sToday = substr(gDs_ServerTime.GetColumn(0, "sToday"),0,8);
    //global.http.Sync = false;	
    sToday = wconv.substr(gfn_GetSysTime(), 0, 8);
    gfn_getCommonCodes("DsWs_DlngResltCd", "CrChngDlngResltCd", "cmb_ConuResltCd" , " ");
    //trace("파라미터 값 :::::::::::::::"+ sPlanNo);
    medt_CrNo.setValue(sCrNo);
    //변경사유항목 조회
    scwin.lfn_selectCntrModList();
    //요청사항 조회
    scwin.lfn_search();
};
//---------------------------------------------------------------------------
// function 명 : lfn_selectCntrModList
// 내용        : 변경사유 항목 조회
//---------------------------------------------------------------------------
scwin.lfn_selectCntrModList = function() {
    wconv.clear(DsWs_Sayu);
//    SOBJ_Sayu.WSDL = gds.gWsdlBasis;
//    var MethodObj = gfn_CreateMethodObj(SOBJ_Sayu, "com.inswave.longterm.psv.ens.task.EAD560Task", "selectCntrModList", "", "");
//    gfn_CallService(SOBJ_Sayu, DOBJ_Sayu, MethodObj);
	var MethodObj = new callService("com.inswave.longterm.psv.ens.task.EAD560Task", "selectCntrModList", pageSize, pageNo);
	MethodObj.setId("selectCntrModList");	
	MethodObj.setUrl("/contract/CBSC027PController.do");//배포후변경할것(controller위치와 이름)
	MethodObj.setXPath("//*/vector/data/LTIEA24");//(dsWS의 XPath)
	MethodObj.addXPath("//*/WARNING"); 
	MethodObj.sync();
	MethodObj.send();
	util.jSonDsCreate(_tranSync.getDsJson("LTIEA24"), "DsWs_Sayu");//Json에 자동적으로 생성되게 해줌
	
	util.jSonDsCreate(_tranSync.getDsJson("WARNING"), "DsWs_SayuWarning");
	//util.setCompBindRefresh("DsWs_Sayu");//바인딩을 해줌
	util.insertColumn(Ds_Sayu, [[ "enable1", "enable1", "text"]]);
    util.insertColumn(Ds_Sayu, [[ "enable2", "enable2", "text"]]);	
	util.setCompBindRefresh("Ds_Sayu");//바인딩을 해줌	
	//util.setRowPosition(DsWs_Sayu, 0);	
	util.setRowPosition(Ds_Sayu, 0);	
    //에러처리
    if (DsWs_SayuWarning.getRowCount() != 0) {
        wprom.alert(DsWs_SayuWarning.getCellData(0, "msg"));
        return;
    }    
//    wconv.copy(Ds_Sayu, "DsWs_Sayu");  
    util.copyM(Ds_Sayu, DsWs_Sayu.getAllJSON());
	util.setCompBindRefresh(Ds_Sayu.getID());
    util.setRowPosition(Ds_Sayu, 0);	
};
//---------------------------------------------------------------------------
// function 명 : lfn_selectCntrModList
// 내용        : 변경사유 항목 조회
//---------------------------------------------------------------------------
scwin.lfn_makeChngItem = function() {
    var sChngItem = "";   
    for (var i = 0; i < Ds_Sayu.getRowCount(); i++) {
        if (Ds_Sayu.getCellData(i, "chk1") == "1") {
            sChngItem = sChngItem + Ds_Sayu.getCellData(i, "sCrChngCd1") + "^";
        }
        if (Ds_Sayu.getCellData(i, "chk2") == "1") {
            sChngItem = sChngItem + Ds_Sayu.getCellData(i, "sCrChngCd2") + "^";
        }
    }
    Ds_LTIEA14.setCellData(0, "sChngItem", wconv.substr(sChngItem, 0, wconv.length(sChngItem) - 1));
};
//---------------------------------------------------------------------------
// function 명 : lfn_search
// 내용        : 요청사항 조회
//---------------------------------------------------------------------------
scwin.lfn_search = function() {
    if (mfn_IsEmpty(sCrNo)) {	    
        wprom.alert("계약번호를 입력해주세요");
        return;
    }
    //데이터셋 초기화
    wconv.clear(DsWs_LTIEA14);
    Ds_LTIEA14.removeAll();
//    SOBJ_select.WSDL = gds.gWsdlBasis; //기본 웹서비스
//    var MethodObj = gfn_CreateMethodObj(SOBJ_select, "com.inswave.longterm.psv.ens.task.EAD560Task", "selectRqst", "", "");
//    gfn_SetParam(MethodObj, "sCrNo", medt_CrNo.getValue()); //가입설계번호
//    gfn_SetParam(MethodObj, "nRqstSeqno", nRqstSeqno);
    var MethodObj = new callService("com.inswave.longterm.psv.ens.task.EAD560Task", "selectRqst", pageSize, pageNo);
	MethodObj.setId("selectRqst");
	MethodObj.setParam("sCrNo", medt_CrNo.getValue()); //가입설계번호
	MethodObj.setParam( "nRqstSeqno", nRqstSeqno);	
    if (rqstFlag == "01") {
        //인수요청
        //gfn_SetParam(MethodObj, "sRqstCd", gds.gDoer); //요청자
        MethodObj.setParam("sRqstCd", util.getGdsValue("gDoer")); //gds.gDoer); //요청자
    } else {
        //인수승인
        //gfn_SetParam(MethodObj, "sDlngCd", gds.gDoer); //결재자
        MethodObj.setParam("sDlngCd", util.getGdsValue("gDoer"));//gds.gDoer); //결재자
    }
//    var result = gfn_CallService(SOBJ_select, DOBJ_select, MethodObj);
	MethodObj.setUrl("/contract/CBSC027PController.do");//배포후변경할것(controller위치와 이름)
	MethodObj.setXPath("//*/LTIEA14");//(dsWS의 XPath)	
	MethodObj.addXPath("//*/vector/data/LTIEA24");//(dsWS의 XPath)	
	MethodObj.addXPath("//*/WARNING"); 
	MethodObj.sync();
	MethodObj.send();
	util.jSonDsCreate(_tranSync.getDsJson("LTIEA14"), "DsWs_LTIEA14");//Json에 자동적으로 생성되게 해줌
	util.jSonDsCreate(_tranSync.getDsJson("LTIEA14"), "Ds_LTIEA14");//Json에 자동적으로 생성되게 해줌
	util.jSonDsCreate(_tranSync.getDsJson("WARNING"), "DsWs_selectWarning");
	util.setCompBindRefresh("DsWs_LTIEA14");//바인딩을 해줌
	util.setCompBindRefresh("Ds_LTIEA14");//바인딩을 해줌
	// 오류처리
    if (DsWs_selectWarning.getRowCount() != 0) {
        wprom.alert(DsWs_selectWarning.getCellData(0, "msg"));
        return;
    } else {
        wconv.copy(Ds_LTIEA14, DsWs_LTIEA14);
        //요청항목 클릭이벤트(계약변경시 변경사유 활성화필요)
        scwin.lfn_Rdo_RqstItem_OnClick();
        //변경사유 디스플레이
        scwin.lfn_displayChngItem();
    }
    util.setRowPosition(DsWs_LTIEA14, 0);
    util.setRowPosition(Ds_LTIEA14, 0);
	var result = MethodObj;
    if (rqstFlag == "01") {
        txa_Rqst.setReadOnly("grid", null, null, false); /**/
        txa_approval.setReadOnly("grid", null, null, true); /**/
        cmb_ConuResltCd.setDisabled(true);
        edt_userPwd.setDisabled(true);
    } else {
        txa_Rqst.setReadOnly("grid", null, null, true); /**/
        Grd_BaeSeoSayu.setDisabled(true);
        Rdo_RqstItem.setDisabled(true);
       //장기업무부일때만 승인처리가능
        //if (nfn_checkAuthByID(SOBJ_LOAD, DOBJ_LOAD, "ds_code", gUserID , "22040")){		
        if (nfn_checkAuthByID( "ds_code", util.getGdsValue("gUserID"), "22030")) {
            //2013.09.05 장기보험인수권한에서 업무팀기본권한으로 변경
           txa_approval.setReadOnly("grid", null, null, false); /**/
            cmb_ConuResltCd.setDisabled(false);
            edt_userPwd.setDisabled(false);
            DsWs_DlngResltCd.setCellData(0, "sHnglCdName", "- 선택 -");
        } else {
            txa_approval.setReadOnly("grid", null, null, true); /**/
            cmb_ConuResltCd.setDisabled(true);
            edt_userPwd.setDisabled(true);
            btn_input.setDisabled(true);
        }
    }
};
//---------------------------------------------------------------------------
// function 명 : lfn_displayChngItem
// 내용        : 변경사유값을 읽어 화면에 체크시켜줌
//---------------------------------------------------------------------------
scwin.lfn_displayChngItem = function() {
    var sChngItem = Ds_LTIEA14.getCellData(0, "sChngItem");
    for (var i = 0; i < Ds_Sayu.getRowCount(); i++) {
        if (sChngItem.indexOf(Ds_Sayu.getCellData(i, "sCrChngCd1")) >= 0) {
            Ds_Sayu.setCellData(i, "chk1", "1");
        }
        if (sChngItem.indexOf(Ds_Sayu.getCellData(i, "sCrChngCd2")) >= 0) {
            Ds_Sayu.setCellData(i, "chk2", "1");
        }
    }
};
//---------------------------------------------------------------------------
// function 명 : lfn_OnClose
// 내용        : 화면종료
//---------------------------------------------------------------------------
scwin.lfn_OnClose = function() {
    wprom.close("");
};
//---------------------------------------------------------------------------
// function 명 : lfn_save
// 내용        : 요청승인사항 보관하기
//---------------------------------------------------------------------------
scwin.lfn_save = function() {
    if (scwin.lfn_check_pass() == false) {
        return;
    }
//    SOBJ_Save.WSDL = gds.gWsdlBasis; //기본 웹서비스
//    var MethodObj = SOBJ_Save.CreateMethodObj("perform");
//    setHeader("hashtable", "com.inswave.longterm.psv.ens.task.EAD560Task", "setRqst");
  	var MethodObj = new callService("com.inswave.longterm.psv.ens.task.EAD560Task", "setRqst");
 	MethodObj.setId("setRqst"); 
    if (rqstFlag == "01") {
        Ds_LTIEA14.setCellData(0, "sRqstUserCd", util.getGdsValue("gDoerUser"));
        Ds_LTIEA14.setCellData(0, "sInptDler", util.getGdsValue("gDoer"));
        Ds_LTIEA14.setCellData(0, "sInptDlerIP", util.getGdsValue("gUserIP"));
        Ds_LTIEA14.setCellData(0, "sMdfcDler", util.getGdsValue("gDoer"));
        Ds_LTIEA14.setCellData(0, "sMdfcDlerIP", util.getGdsValue("gUserIP"));
    } else {
        Ds_LTIEA14.setCellData(0, "sMdfcDler", util.getGdsValue("gUserID"));
        Ds_LTIEA14.setCellData(0, "sMdfcDlerIP", util.getGdsValue("gUserIP"));
    }
//    addSingleData("LTIEA14", "LTIEA14", Ds_LTIEA14, "LTIEA14"); // 요청사항		
//    setTail("hashtable");
//    SOBJ_Save.CreateObj("in0");
//    MethodObj.in0 = insertStr;
//    var result = gfn_CallService(SOBJ_Save, DOBJ_Save, MethodObj);
  	MethodObj.addSingleData("LTIEA14", "LTIEA14", "Ds_LTIEA14"); // 요청사항
	MethodObj.setUrl("/contract/CBSC027PController.do");   // 서버단 호출 URL (수납 확정)    
 	MethodObj.setXPath("//*/WARNING"); // XPath
 	MethodObj.setHashTable();    //  전문의 앞이 hashtable로 보낼 때
 	MethodObj.sync();     // 동기 처리[기본(async:비동기)]
 	MethodObj.send();      // 최종 전송   // TEST @@@ ===>
 	
	util.jSonDsCreate(_tranSync.getDsJson("WARNING"), "DsWs_saveWarning");	
   	var result = MethodObj;
    if (DsWs_saveWarning.getRowCount() != 0) {
        wprom.alert(DsWs_saveWarning.getCellData(0, "msg"));
        return;
    }
    wconv.copy(Ds_LTIEA14, "DsWs_ReLTIEA14");
    if (rqstFlag == "01") {
        wprom.alert("심사요청처리 되었습니다.");
    } else {
        wprom.alert("인수승인처리 되었습니다.");
    }
    wprom.close(Ds_LTIEA14.getCellData(0, "nRqstSeqno"));
};
//---------------------------------------------------------------------------
// function 명 : lfn_check_pass
// 내용        : Editing / 비밀번호 체크 
//---------------------------------------------------------------------------
scwin.lfn_check_pass = function() {
    if (rqstFlag == "01") {
        if (wconv.length(Ds_LTIEA14.getCellData(0, "sRqstItem")) <= 0) {
            wprom.alert("요청항목을 선택하여 주십시요");
            return false;
        }
        if (Ds_LTIEA14.getCellData(0, "sRqstItem") == "1") {
            //변경사유 셋팅
            scwin.lfn_makeChngItem();
            if (wconv.length(Ds_LTIEA14.getCellData(0, "sChngItem")) <= 0) {
                wprom.alert("계약변경사유 선택 바랍니다.");
                return false;
            }
        }
        if (wconv.length(Ds_LTIEA14.getCellData(0, "sRqstCont")) <= 0) {
            wprom.alert("요청자의견을 입력하여 주십시요");
            return false;
        }
    } else {
        if (wconv.length(Ds_LTIEA14.getCellData(0, "sDlngCont")) <= 0) {
            wprom.alert("승인자의견을 입력하여 주십시요");
            return false;
        }
        if (wconv.length(Ds_LTIEA14.getCellData(0, "sDlngResltCd")) <= 0 || Ds_LTIEA14.getCellData(0, "sDlngResltCd") == "01") {
            wprom.alert("승인여부를 선택하여 주십시요");
            return false;
        }
        if (edt_userPwd.getValue() == "") {
            wprom.alert("비밀번호 를 입력하세요.");
            return false;
        }
//        SOBJ_LOGIN.WSDL = gds.gWsdlAdmin;
//        var MethodObj = gfn_CreateMethodObj(SOBJ_LOGIN, "LoginTask", "checkApprovalPwd", "", "");
//        gfn_SetParam(MethodObj, "sEmpNo", Ds_LTIEA14.getCellData(0, "sDlngCd"));
//        gfn_SetParam(MethodObj, "sPassword", edt_userPwd.getValue());
//        gfn_CallService(SOBJ_LOGIN, DOBJ_LOGIN, MethodObj);
        var MethodObj = new callService("com.inswave.admin.task.LoginTask", "checkApprovalPwd", pageSize, pageNo);
		MethodObj.setId("checkApprovalPwd");
		MethodObj.setParam("sEmpNo", Ds_LTIEA14.getCellData(0, "sDlngCd"));
		MethodObj.setParam("sPassword", edt_userPwd.getValue());	
		MethodObj.setUrl("/contract/CBSC027PController.do");//배포후변경할것(controller위치와 이름)
		MethodObj.setXPath("//*/PWD");//(DsWs_Login의 XPath)
		MethodObj.sync();
		MethodObj.send();
 		util.jSonDsCreate(_tranSync.getDsJson("PWD"), "DsWs_Login");//Json에 자동적으로 생성되게 해줌
		util.setCompBindRefresh("DsWs_Login");//바인딩을 해줌
		util.setRowPosition(DsWs_Login, 0);	       
        if (DsWs_Login.getCellData(0, "sPass") == "Y") {
            edt_userPwd.setValue("");
            return true;
        } else {
            wprom.alert("비밀번호가 틀렸습니다.");
            edt_userPwd.setValue("");
            edt_userPwd.focus();
            return false;
        }
    }
    return true;
};
scwin.btn_Fax_OnClick = function() {
    var arg = "sKey=" + medt_CrNo.getValue();
    if (wconv.substr(medt_CrNo.getValue(), 0, 1) == "M") {
        arg += " sKeyType=22"; //청약시		
    } else {
        arg += " sKeyType=21"; //배서시
    }
    var result = Open("popup::R940_Pop.xml", arg, -1, -1, "TaskBar=true Resize=true", -1, -1);
};
//---------------------------------------------------------------------------
// function 명 : lfn_img_OnClick
// 내용        :  이미지 확인
//---------------------------------------------------------------------------
scwin.lfn_img_OnClick = function(obj) {
	return;
    //	if(Length(DsWs_LTIDB03.getColumn(DsWs_LTIDB03.FindRow("chk","1"), "sPlanNo")) == 0){
    //		alert("체크된 심사건이 없습니다.");
    //		return false;
    //	}
    var arg = "ContractNo=" + medt_PlanNo.Value + "&"; //계약번호
    //	arg += "Doctype="+DsWs_LTIDB03.getColumn(DsWs_LTIDB03.FindRow("chk","1"), "sImagClsfCd")+"&";
    arg += "hidJob_gubun=4" + "&";
    arg += "UsrId=" + util.getGdsValue("gUserID");
    /* 	var arg = "ContractNo=M10078000005"+"&";//계약번호
    	arg += "Doctype=JCA10001"+"&";
    	arg += "hidJob_gubun=4"+"&";
    	arg += "UsrId=5100018";*/
    //trace("메인파라미터 값 :::::::::::::::"+ arg);
    //ExecBrowser("http://10.1.1.58:9000/imgsys/jsp/index.jsp?"+arg);
    ExecBrowser(util.getGdsValue("gImgUrl") + "?" + arg);
};
//---------------------------------------------------------------------------
// function 명 : lfn_Btn_FixCover_OnClick
// 내용        : 정액담보가입현황 버튼클릭 이벤트
//---------------------------------------------------------------------------
scwin.lfn_Btn_FixCover_OnClick = function() {
    var promise = Promise.resolve();
    var arg ={} 
    arg.sPlanNo = medt_PlanNo.getValue();
    arg.sInrpsCd = DsWs_LTIDA14.GetColumn(0, "sInrpsCd");
    arg.sInrpsName =DsWs_LTIDA14.GetColumn(0, "sInrpsName");
    promise = promise.then(function(rtnVal) {						
			var popInfo = {
				"width"     : 657,
				"height"    : 437,  
				"indata"    : arg,
				"title"     : "",
				"callback"  : ""
			};			
			return wprom.popupOpen("/ui/cbsc/CBSC137P.xml", popInfo);
        //피보험자명
        //return wprom.promise.popupOpen("PROJECT_PATH_TEMP/ssr_sst/CBSC137P.xml", arg, -1, -1); /*wprom.popupOpen(가이드참조)*/
    });
    return promise;
};
//---------------------------------------------------------------------------
// function 명 : fn_GetChkList
// 내용        : 체크 항목 취득
//---------------------------------------------------------------------------
scwin.fn_GetChkList = function() {
    var chkArr = new Array();
    var sCrChngCd = "";
    var j = 0;
    for (var i = 0; i < Ds_Sayu.getRowCount(); i++) {        
		chk = Ds_Sayu.getCellData(i, "chk1");
        if (chk == "1") {
            sCrChngCd = Ds_Sayu.getCellData(i, "sCrChngCd1");
            if(fsCrChngCd != sCrChngCd){            	
            	chkArr[j++] = sCrChngCd;
            }else{            
            }
        }
        chk = Ds_Sayu.getCellData(i, "chk2");
        if (chk == "1") {
            sCrChngCd = Ds_Sayu.getCellData(i, "sCrChngCd2");
              if(fsCrChngCd != sCrChngCd){            	
            	chkArr[j++] = sCrChngCd;
            }else{            
            }
        }
    }
    return chkArr;
};
//---------------------------------------------------------------------------
// function 명 : fn_GetSyncList
// 내용        : 동시 변경항목 취득
//---------------------------------------------------------------------------
scwin.fn_GetSyncList = function(sCrChngCd) {
    var chkArr = new Array();
    var sSyncCrChngCd = "";
    var j = 0;
    var cd = "";
    for (var i = 0; i < Ds_Sayu.getRowCount(); i++) {
        cd = Ds_Sayu.getCellData(i, "sCrChngCd1");
        if (cd == sCrChngCd) {
            sSyncCrChngCd = Ds_Sayu.getCellData(i, "sSyncCrChng1Cd1");
            if (wconv.length(sSyncCrChngCd) > 0) chkArr[j++] = sSyncCrChngCd;
            sSyncCrChngCd = Ds_Sayu.getCellData(i, "sSyncCrChng2Cd1");
            if (wconv.length(sSyncCrChngCd) > 0) chkArr[j++] = sSyncCrChngCd;
            sSyncCrChngCd = Ds_Sayu.getCellData(i, "sSyncCrChng3Cd1");
            if (wconv.length(sSyncCrChngCd) > 0) chkArr[j++] = sSyncCrChngCd;
            sSyncCrChngCd = Ds_Sayu.getCellData(i, "sSyncCrChng4Cd1");
            if (wconv.length(sSyncCrChngCd) > 0) chkArr[j++] = sSyncCrChngCd;
            sSyncCrChngCd = Ds_Sayu.getCellData(i, "sSyncCrChng5Cd1");
            if (wconv.length(sSyncCrChngCd) > 0) chkArr[j++] = sSyncCrChngCd;
        }
        cd = Ds_Sayu.getCellData(i, "sCrChngCd2");
        if (cd == sCrChngCd) {
            sSyncCrChngCd = Ds_Sayu.getCellData(i, "sSyncCrChng1Cd2");
            if (wconv.length(sSyncCrChngCd) > 0) chkArr[j++] = sSyncCrChngCd;
            sSyncCrChngCd = Ds_Sayu.getCellData(i, "sSyncCrChng2Cd2");
            if (wconv.length(sSyncCrChngCd) > 0) chkArr[j++] = sSyncCrChngCd;
            sSyncCrChngCd = Ds_Sayu.getCellData(i, "sSyncCrChng3Cd2");
            if (wconv.length(sSyncCrChngCd) > 0) chkArr[j++] = sSyncCrChngCd;
            sSyncCrChngCd = Ds_Sayu.getCellData(i, "sSyncCrChng4Cd2");
            if (wconv.length(sSyncCrChngCd) > 0) chkArr[j++] = sSyncCrChngCd;
            sSyncCrChngCd = Ds_Sayu.getCellData(i, "sSyncCrChng5Cd2");
            if (wconv.length(sSyncCrChngCd) > 0) chkArr[j++] = sSyncCrChngCd;
        }
    }
    return chkArr;
};
//---------------------------------------------------------------------------
// function 명 : fn_GetCrChngName
// 내용        : 계약변경명 취득
//---------------------------------------------------------------------------
scwin.fn_GetCrChngName = function(sCrChngCd) {
    var crNm = "";
    for (var i = 0; i < Ds_Sayu.getRowCount(); i++) {
        if (Ds_Sayu.getCellData(i, "sCrChngCd1") == sCrChngCd) {
            crNm = Ds_Sayu.getCellData(i, "sCrChngName1");
        }
        if (Ds_Sayu.getCellData(i, "sCrChngCd2") == sCrChngCd) {
            crNm = Ds_Sayu.getCellData(i, "sCrChngName2");
        }
    }
    return crNm;
};
//---------------------------------------------------------------------------
// function 명 : lfn_ChkCncl
// 내용        : 에러시 선택버튼 원복처리
//---------------------------------------------------------------------------
scwin.lfn_ChkCncl = function(row, col) {
    if (col == 0) {
        Ds_Sayu.setCellData(row, "chk1", "0");
    } else if (col == 2) {
        Ds_Sayu.setCellData(row, "chk2", "0");
    }
};
//---------------------------------------------------------------------------
// function 명 : fn_GetPremModCnt
// 내용        : 금액변경항목수
//---------------------------------------------------------------------------
scwin.fn_GetPremModCnt = function(sCrChngCd) {
    var premModCnt = 0;
    var sPremCalcYn = "N";
    for (var i = 0; i < Ds_Sayu.getRowCount(); i++) {
        if (Ds_Sayu.getCellData(i, "sCrChngCd1") == sCrChngCd) {
            sPremCalcYn = Ds_Sayu.getCellData(i, "sPremCalcYn1");
            if (sPremCalcYn == "Y") {
                premModCnt++;
            }
        }
        if (Ds_Sayu.getCellData(i, "sCrChngCd2") == sCrChngCd) {
            sPremCalcYn = Ds_Sayu.getCellData(i, "sPremCalcYn2");
            if (sPremCalcYn == "Y") {
                premModCnt++;
            }
        }
    }
    return premModCnt;
};
//---------------------------------------------------------------------------
// function 명 : fn_GetFmlzDocuCont
// 내용        : 구비서류내용 취득
//---------------------------------------------------------------------------
scwin.fn0_GetFmlzDocuCont = function(sCrChngCd) {
    var sFmlzDocuYn = "";
    for (var i = 0; i < Ds_Sayu.getRowCount(); i++) {
        if (Ds_Sayu.getCellData(i, "sCrChngCd1") == sCrChngCd) {
            sFmlzDocuYn = Ds_Sayu.getCellData(i, "sFmlzDocuYn1");
        }
        if (Ds_Sayu.getCellData(i, "sCrChngCd2") == sCrChngCd) {
            sFmlzDocuYn = Ds_Sayu.getCellData(i, "sFmlzDocuYn2");
        }
    }
    return sFmlzDocuYn;
};
//---------------------------------------------------------------------------
// function 명 : lfn_ChkClick
// 내용        : 선택버튼 클릭시 처리
//---------------------------------------------------------------------------
scwin.lfn_ChkClick = function(row, col) {   
  	var chk = "";
    var sCrChngCd = "";
    var arg = "";
    if (col == 0) {
        if (wconv.length(Ds_Sayu.getCellData(row, "sCrChngCd1")) <= 0) {
            Ds_Sayu.setCellData(row, "chk1", "1");                    
            return;
        }        
        sCrChngCd = Ds_Sayu.getCellData(row, "sCrChngCd1");
        fsCrChngCd = sCrChngCd;
        chk = Ds_Sayu.getCellData(row, "chk1");
        
    } else if (col == 2) {
        if (wconv.length(Ds_Sayu.getCellData(row, "sCrChngCd2")) <= 0) {
            Ds_Sayu.setCellData(row, "chk2", "1");
            return;
        }        
        sCrChngCd = Ds_Sayu.getCellData(row, "sCrChngCd2");
        fsCrChngCd = sCrChngCd;
        chk = Ds_Sayu.getCellData(row, "chk2");	
               
    }
    
    var chkArr1; //기선택건
    var chkArr2; //동시변경건
    var chkArr3 = new Array(); //동시변경건+선택건
    var chkArr = new Array(); //전체 대상건
    chkArr1 = scwin.fn_GetChkList(); //기선택건
       
//    if(firstChk != ""){    
//  	chkArr1 = scwin.fn_GetChkList(); //기선택건
//  	}else{
//  	firstChk="1";
//  	}  	
    
    chkArr2 = scwin.fn_GetSyncList(sCrChngCd); //동시변경건
    for (var i = 0; i < chkArr2.length; i++) {
        chkArr3[i] = chkArr2[i];
    }
//    chkArr3[chkArr3.length]=sCrChngCd;
   chkArr3[chkArr3.length] = sCrChngCd; //동시변경건+선택건
    //체크상태 취득
    //chk=fn_GetChkStat(sCrChngCd);
   if (chk == "0") {
        //선택해제
        var tempArr = new Array();
        for (var i = 0; i < chkArr1.length; i++) {
            //대상항목 재구성
            tempArr[i] = chkArr1[i];
        }
        for (var i = 0; i < chkArr3.length; i++) {
            var delCd = chkArr3[i];
            for (var j = 0; j < tempArr.length; j++) {
                var tgtCd = tempArr[j];
                if (delCd == tgtCd) {
                    tempArr[j] = "";
                }
            }
        }
        var idx = 0;
        for (var i = 0; i < tempArr.length; i++) {
            //대상항목 재구성
            if (wconv.length(tempArr[i]) > 0) {
                chkArr[idx++] = tempArr[i];
            }
        }
    } else {
        //선택
        for (var i = 0; i < chkArr1.length; i++) {
            chkArr[i] = chkArr1[i];
        }
        for (var i = 0; i < chkArr3.length; i++) {
            var idx = i + chkArr1.length;
            chkArr[i + chkArr1.length] = chkArr3[i];
        }
    }
    //test
    // var chkStr="";
    // for(var i=0; i<chkArr.length;i++){
    // chkStr=chkStr+"^"+chkArr[i];
    // }
    // 동시 계약변경 가능 체크    
    if (chk == "1") {
        //선택해제
        for (var i = 0; i < chkArr2.length; i++) {
            var synCd = chkArr2[i];
            for (var j = 0; j < chkArr1.length; j++) {
                var tgtCd = chkArr1[j];
                if (synCd == tgtCd) {
                    wprom.alert("[" + scwin.fn_GetCrChngName(sCrChngCd) + "]은 기선택항목과 동시 계약변경이 불가능합니다.");
                    scwin.lfn_ChkCncl(row, col);
                    return;
                }
            }
        }
    }
    //금액변경체크
    if (chk == "1") {
        //선택
        var prePremModCnt = 0;
        var afterPremModCnt = 0;
        //기선택건 금액변경 개수
        for (var i = 0; i < chkArr1.length; i++) {
            var cd = chkArr1[i];
            var cnt = scwin.fn_GetPremModCnt(cd);
            prePremModCnt = prePremModCnt + cnt;
        }        
        if (prePremModCnt > 0)
            prePremModCnt = 1;
            
            
        for (var i = 0; i < chkArr3.length; i++) {
            var cd = chkArr3[i];
            var cnt = scwin.fn_GetPremModCnt(cd);
            afterPremModCnt = afterPremModCnt + cnt;
        }
        if(afterPremModCnt > 0)
            afterPremModCnt = 1;          
        var premModCnt = afterPremModCnt + prePremModCnt;
        
        if (premModCnt > 1) {
            wprom.alert("금액변경은 1개만 선택할 수 있습니다.");
            scwin.lfn_ChkCncl(row, col);
            return;
        }
    }
    //변경항목갯수체크
    //체크전 개수
    if (chk == "1") {
        //선택
        var modCnt = chkArr1.length + chkArr3.length;
        if (modCnt > 6) {
            wprom.alert("최대 계약변경 항목 수는 6개입니다.");
            scwin.lfn_ChkCncl(row, col);
            return;
        }
    }
    /*
    //구비서류필요여부 체크
    var docRtn="N";
    for(var i=0; i<chkArr.length;i++){
   	docRtn=fn_GetFmlzDocuCont(chkArr[i]);
    	if(docRtn=="Y"){
    		break;
    	}
    }
   if(docRtn=="Y"){
    	Btn_docNeedYN.Enable="true";
    }else{
    	Btn_docNeedYN.Enable="false";
    }
    */
    if (chk == "1") {        
        scwin.lfn_syncChk(chkArr2);        
	   } else {	   
        scwin.lfn_syncChkCncl(chkArr2);
       }  
};
//---------------------------------------------------------------------------
// function 명 : lfn_syncChk
// 내용        : 동시계약변경건 체크처리
//---------------------------------------------------------------------------
scwin.lfn_syncChk = function(chkArr) {
    for (var i = 0; i < chkArr.length; i++) {
        var cd = chkArr[i];
        for (var j = 0; j < Ds_Sayu.getRowCount(); j++) {
            var tgtCd = Ds_Sayu.getCellData(j, "sCrChngCd1");
            if (cd == tgtCd) {
                Ds_Sayu.setCellData(j, "chk1", "1");
                Ds_Sayu.setCellData(j, "enable1", 0);
            }
            tgtCd = Ds_Sayu.getCellData(j, "sCrChngCd2");
            if (cd == tgtCd) {
                Ds_Sayu.setCellData(j, "chk2", "1");
                Ds_Sayu.setCellData(j, "enable2", 0);
            }
        }
    }
};
//---------------------------------------------------------------------------
// function 명 : lfn_syncChkCncl
// 내용        : 동시계약변경건 체크해제처리
//---------------------------------------------------------------------------
scwin.lfn_syncChkCncl = function(chkArr) {

    for (var i = 0; i < chkArr.length; i++) {
        var cd = chkArr[i];
        for (var j = 0; j < Ds_Sayu.getRowCount(); j++) {
            var tgtCd = Ds_Sayu.getCellData(j, "sCrChngCd1");
            if (cd == tgtCd) {
                Ds_Sayu.setCellData(j, "chk1", "0");
                Ds_Sayu.setCellData(j, "enable1", 1);
            }
            tgtCd = Ds_Sayu.getCellData(j, "sCrChngCd2");
            if (cd == tgtCd) {
                Ds_Sayu.setCellData(j, "chk2", "0");
                Ds_Sayu.setCellData(j, "enable2", 1);
            }
        }
    }
};
//---------------------------------------------------------------------------
// function 명 : lfn_Rdo_RqstItem_OnClick
// 내용        : 요청항목 라디오 클릭 이벤트
//---------------------------------------------------------------------------
scwin.lfn_Rdo_RqstItem_OnClick = function(index, value) {
    if (Ds_LTIEA14.getCellData(0, "sRqstItem") == "1") {
        Grd_BaeSeoSayu.setDisabled(false);
    } else {
    
//        wconv.copy(Ds_Sayu, "DsWs_Sayu");
//        util.copyM(Ds_Sayu, DsWs_Sayu.getAllJSON());
//		util.setCompBindRefresh(Ds_Sayu.getID());
//    	util.setRowPosition(Ds_Sayu, 0);
//    		
//        util.insertColumn(Ds_Sayu, [[ "enable1", "enable1", "text"]]);
//    	util.insertColumn(Ds_Sayu, [[ "enable2", "enable2", "text"]]);
        Ds_LTIEA14.setCellData(0, "sChngItem", " ");
        Grd_BaeSeoSayu.setDisabled(true);
    }
};
]]></script>
    </head>
    <body>
    	<xf:group class="cont_wrap layer" id="D560_Pop"
    		style="position:absolute;left:0px;top:0px;"
    		userData1="계약변경 및 제지급 요청"
    		userData2=" OnLoadCompleted:scwin.lfn_Init; ">
    		<DataObjects>
    			<DataObject />
    			<DataObject />
    			<DataObject />
    			<DataObject />
    			<DataObject />
    		</DataObjects>
    		<ServiceObjects>
    			<ServiceObject />
    			<ServiceObject />
    			<ServiceObject />
    			<ServiceObject />
    			<ServiceObject />
    		</ServiceObjects>
    		<xf:group arcsize="8" class="" id="Shape8"
    			style="position:absolute; right:696px;  bottom:212px; height:184px; left:0px; top:0px; width:692px;"
    			userData3="RoundRect">
    			<xf:group arcsize="6" class="sty_area_form" id="group1"
    				style="position:absolute;  bottom:608px;height:190px;left:0px;top:56px;width:695px;"
    				userData3="RoundRect">
    				<xf:group class="form_w_line" id=""
    					style="top:26px;left:0px;">
    				</xf:group>
    				<xf:group class="form_w_line" id=""
    					style="top:53px;left:0px;">
    				</xf:group>
    				<xf:group class="form_w_line" id=""
    					style="top:80px;left:0px;">
    				</xf:group>
    				<xf:group class="form_w_line" id=""
    					style="top:108px;left:0px;">
    				</xf:group>
    				<xf:group class="form_w_line" id=""
    					style="top:134px;left:0px;">
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group arcsize="6" class="sty_area_form" id="group2"
    			style="position:absolute;  bottom:608px;height:144px;left:0px;top:535px;width:695px;"
    			userData3="RoundRect">
    			<xf:group class="form_w_line" id=""
    				style="top:42px;left:0px;">
    			</xf:group>
    			<xf:group class="form_w_line" id=""
    				style="top:88px;left:0px;">
    			</xf:group>
    			<xf:group class="form_w_line" id=""
    				style="top:115px;left:0px;">
    			</xf:group>
    		</xf:group>
    		<w2:textbox id="Static5" label="계약변경 및 제지급 요청"
    			style="position:absolute; VAlign:Middle;  height:20px; left:0px; top:0px; width:249px;"
    			tagname="" class="sub_pop_title01" />
    		<xf:input class="sty_ipt_form" disabled="true"
    			id="edt_TermCd" ref="data:Ds_LTIEA14.sCrtorName"
    			style="position:absolute; border-style:solid;  height:20px;left:110px;top:86px; width:225px;"
    			tabIndex="4" />
    		<xf:input class="sty_ipt_form" disabled="true" id="Edit5"
    			ref="data:Ds_LTIEA14.sRqstName"
    			style="position:absolute; border-style:solid;  height:20px;left:448px;top:114px; width:235px;"
    			tabIndex="15" />
    		<xf:input class="sty_ipt_form" disabled="true"
    			id="edt_sGdCdName" ref="data:Ds_LTIEA14.sGdCdName"
    			style="position:absolute; border-style:solid;  height:20px;left:448px;top:59px; width:235px;"
    			tabIndex="3" />
    		<w2:textbox class="sub_pop_title02" id="Static32"
    			label="승인대상 상세조회"
    			style="position:absolute; VAlign:Middle;  height:20px;left:0px;top:29px; width:125px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static63" label="계약번호"
    			style="position:absolute;min-width:80px;width:87px;left:0px;VAlign:Middle;top:56px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static71" label="계약자"
    			style="position:absolute;min-width:80px;width:87px;left:0px;VAlign:Middle;top:83px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static3" label="요청일"
    			style="position:absolute;min-width:87px;width:87px;left:0px;VAlign:Middle;top:110px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static65" label="상품명"
    			style="position:absolute;min-width:80px;width:80px;left:346px;VAlign:Middle;top:56px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static73" label="보기/납기"
    			style="position:absolute;min-width:80px;width:80px;left:346px;VAlign:Middle;top:83px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static4" label="요청자"
    			style="position:absolute;min-width:80px;width:80px;left:346px;VAlign:Middle;top:110px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static67"
    			label="요청자 &lt;br/&gt;소속"
    			style="position:absolute;min-width:60px;width:60px;left:0px;VAlign:Middle;top:137px;height:78px;line-height: 15px;padding-top:5px;"
    			tagname="" />
    		<xf:input class="sty_ipt_form" disabled="true"
    			id="edt_sAplcCentrName" ref="data:Ds_LTIEA14.sRqstCentrName"
    			style="position:absolute; border-style:solid;  height:20px;left:110px;top:195px; width:225px;"
    			tabIndex="16" />
    		<xf:input class="sty_ipt_form" disabled="true"
    			id="edt_sAplcGroupName" ref="data:Ds_LTIEA14.sRqstGroupName"
    			style="position:absolute; border-style:solid;  height:20px;left:448px;top:168px; width:235px;"
    			tabIndex="17" />
    		<w2:textbox class="sty_lb_Basic" id="Static0" label="팀"
    			style="position:absolute;min-width:80px;width:80px;left:346px;VAlign:Middle;top:137px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static1" label="파트"
    			style="position:absolute;min-width:80px;width:80px;left:346px;VAlign:Middle;top:191px;"
    			tagname="" />
    		<xf:input class="sty_ipt_form" disabled="true"
    			id="edt_sAplcTeamName" ref="data:Ds_LTIEA14.sRqstTeamName"
    			style="position:absolute; border-style:solid;  height:20px;left:448px;top:141px; width:235px;"
    			tabIndex="18" />
    		<xf:input class="sty_ipt_form" disabled="true"
    			id="edt_sAplcPartName" ref="data:Ds_LTIEA14.sRqstPartName"
    			style="position:absolute; border-style:solid;  height:20px;left:448px;top:195px; width:235px;"
    			tabIndex="20" />
    		<w2:textbox class="sty_lb_Basic" id="Static2" label="그룹"
    			style="position:absolute;min-width:80px;width:80px;left:346px;VAlign:Middle;top:164px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static7" label="센터"
    			style="padding-left:0px;position:absolute;text-align:center;min-width:40px;width:40px;border-style:solid;left:62px;VAlign:Middle;top:191px;"
    			tagname="" />
    		<w2:textbox class="sub_pop_title02" id="Static8"
    			label="계약변경사유"
    			style="position:absolute; VAlign:Middle;  height:20px;left:0px;top:258px; width:125px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static9" label="요청자의견"
    			style="position:absolute; height:45px;left:0px;top:535px;width:87px;"
    			tagname="" />
    		<xf:textarea class="sty_ipt_form" id="txa_Rqst"
    			ref="data:Ds_LTIEA14.sRqstCont"
    			style="position:absolute; VScroll:TRUE;  ImeMode:native;  border-style:solid;height:35px;left:109px;top:539px;width:575px;"
    			tabIndex="28" />
    		<xf:input class="sty_ipt_form" disabled="true" id="Edit0"
    			ref="data:Ds_LTIEA14.sDlngName"
    			style="position:absolute; border-style:solid;  height:20px;left:109px;top:628px; width:225px;"
    			tabIndex="29" />
    		<w2:textbox class="sty_lb_Basic" id="Static11" label="처리자의견"
    			style="position:absolute; VAlign:Middle; height:45px;left:0px;top:578px;width:87px;"
    			tagname="" />
    		<xf:textarea class="sty_ipt_form" id="txa_approval"
    			ref="data:Ds_LTIEA14.sDlngCont"
    			style="position:absolute; VScroll:TRUE;  ImeMode:native;  border-style:solid;  height:35px;left:109px;top:584px; width:575px;"
    			tabIndex="31" />
    		<w2:textbox class="sty_lb_Basic" id="Static12" label="처리여부"
    			style="position:absolute;width:80px;border-style:solid;left:346px;VAlign:Middle;top:624px;"
    			tagname="" />
    		<xf:select1 appearance="minimal" class="sty_ipt_form"
    			emptyItem="true" id="cmb_ConuResltCd"
    			ref="data:Ds_LTIEA14.sDlngResltCd"
    			style="position:absolute; border-style:solid;  height:20px;left:454px;top:628px; width:228px;"
    			tabIndex="33" renderType="native">
    			<xf:choices>
    				<xf:itemset nodeset="data:DsWs_DlngResltCd">
    					<xf:label ref="sHnglCdName" />
    					<xf:value ref="sCd" />
    				</xf:itemset>
    			</xf:choices>
    		</xf:select1>
    		<w2:textbox class="sty_lb_Basic" id="Static13" label="처리자사번"
    			style="position:absolute;width:87px;border-style:solid;left:0px;VAlign:Middle;top:651px;"
    			tagname="" />
    		<xf:input class="sty_ipt_form" disabled="true"
    			id="edt_userId" ref="data:Ds_LTIEA14.sDlngCd"
    			style="position:absolute; border-style:solid;  height:20px;left:109px;top:655px; width:225px;"
    			tabIndex="34" />
    		<w2:textbox class="sty_lb_Basic" id="Static14" label="비밀번호"
    			style="position:absolute;width:80px;border-style:solid;left:346px;VAlign:Middle;top:651px;"
    			tagname="" />
    		<xf:secret class="sty_ipt_form" disabled="true"
    			id="edt_userPwd"
    			style="position:absolute; border-style:solid;  height:20px;left:454px;top:654px; width:228px;"
    			tabIndex="36" />
    		<xf:trigger class="popup_top_btn"
    			ev:onclick="scwin.lfn_OnClose" id="btn_close"
    			style="position:absolute; ImageID:btn_Comm_Close;  height:20px;left:645px;top:0px; width:58px;"
    			tabIndex="38" type="anchor">
    			<xf:label><![CDATA[닫기]]></xf:label>
    		</xf:trigger>
    		<xf:trigger class="popup_top_btn"
    			ev:onclick="scwin.lfn_save" id="btn_input"
    			style="position:absolute; ImageID:btn_Comm_Input;  height:20px;left:595px;top:0px; width:58px;"
    			tabIndex="39" type="anchor">
    			<xf:label><![CDATA[입력]]></xf:label>
    		</xf:trigger>
    		<w2:textbox class="sty_lb_Basic" id="Static6" label="처리자"
    			style="position:absolute;width:87px;border-style:solid;left:0px;VAlign:Middle;top:624px;"
    			tagname="" />
    		<xf:input class="sty_ipt_search" dataType="text"
    			disabled="true" displayFormat="#-####-#######" id="medt_CrNo"
    			style="position:absolute; border-style:solid;  height:20px;left:110px;top:59px; width:225px;"
    			tabIndex="42" ev:onchange="medt_CrNo_OnChanged"/>
    		<w2:inputCalendar class="sty_cal_form"
    			id="cal_sInsurEndDate" readOnly="true"
    			ref="data:Ds_LTIEA14.sRqstDate"
    			style="position:absolute; SundayTextColor:red;  SaturdayTextColor:blue;  Column:sRqstDate;  border-style:solid;  BindDataset:Ds_LTIEA14;  height:20px;left:110px;top:114px; width:225px;"
    			tabIndex="43" validCheck="true"/>
    		<xf:input class="sty_ipt_form" disabled="true"
    			id="edt_sAplc" ref="data:Ds_LTIEA14.sRqstCd"
    			style="position:absolute; display:none;  border-style:solid;  height:20px; left:445px; top:99px; width:9px;"
    			tabIndex="44" />
    		<xf:switch id="switch_98" style=" ">
    			<xf:case id="Default_99" style=" ">
    				<w2:gridView autoFit="allColumn"
    					autoFitMinWidth="100" class="sty_Grid" dataList="Ds_Sayu"
    					ev:oncellclick="scwin.lfn_ChkClick" focusMode="row"
    					id="Grd_BaeSeoSayu" inputType="text" readOnly=""
    					style="position:absolute; UseDBuff:true;  InputPanel:FALSE;  EndLineColor:default;  border:Flat;  AutoFitEndLine:Hide;  height:245px; left:0px; right:691px;top:282px;width:695px;"
    					tabIndex="45" ev:onviewchange="">
    					<w2:header>
    						<w2:row>
    							<w2:column style=" display:none; "
    								width="35" id="gh101" />
    							<w2:column style=" display:none; "
    								width="290" id="gh102" />
    							<w2:column style=" display:none; "
    								width="35" id="gh103" />
    							<w2:column style=" display:none; "
    								width="290" id="gh104" />
    							<w2:column style=" display:none; "
    								width="0" id="gh105" />
    							<w2:column style=" display:none; "
    								width="0" id="gh106" />
    						</w2:row>
    					</w2:header>
    					<w2:gBody>
    						<w2:row>
    							<w2:column id="chk1"
    								inputType="checkbox" userData1="0" userData3="0" width="30"
    								falseValue="" defaultValue="0" displayMode="label"
    								readOnly="false" style="height:20px;" blockSelect="false"
    								trueValue="">
    							</w2:column>
    							<w2:column dataType="text"
    								id="sCrChngName1" inputType="text" userData1="1"
    								userData3="1" width="316" style="height:20px;" />
    							<w2:column id="chk2"
    								inputType="checkbox" userData1="2" userData3="0" width="30"
    								falseValue="0" defaultValue="0" displayMode="label"
    								readOnly="false" style="height:20px;" />
    							<w2:column dataType="text"
    								id="sCrChngName2" inputType="text" userData1="3"
    								userData3="0" width="308" style="height:20px;" />
    							<w2:column dataType="text" id="enable1"
    								inputType="text" readOnly="true" userData1="4" userData3="0"
    								width="0" style="height:20px;" />
    							<w2:column dataType="text" id="enable2"
    								inputType="text" readOnly="true" userData1="5" userData3="0"
    								width="0" style="height:20px;" />
    						</w2:row>
    					</w2:gBody>
    				</w2:gridView>
    			</xf:case>
    		</xf:switch>
    		<xf:input class="sty_ipt_form" disabled="true" id="Edit1"
    			ref="data:Ds_LTIEA14.sInsurTermPaymTermName"
    			style="position:absolute; border-style:solid;  height:20px;left:448px;top:86px; width:235px;"
    			tabIndex="46" />
    		<w2:textbox class="sty_lb_Basic" id="Static10" label="요청항목"
    			style="position:absolute;min-width:80px;width:87px;left:0px;VAlign:Middle;top:218px;"
    			tagname="" />
    		<xf:select1 appearance="full" cols="2"
    			ev:onclick="scwin.lfn_Rdo_RqstItem_OnClick" id="Rdo_RqstItem"
    			ref="data:Ds_LTIEA14.sRqstItem" rows=""
    			style="position:absolute; ColumnCount:2;  height:21px;left:111px;top:222px; width:226px;"
    			tabIndex="48" ev:onradioclick="scwin.lfn_Rdo_RqstItem_OnClick">
    			<xf:choices>
    				<xf:itemset nodeset="data:Ds_RqstItem">
    					<xf:label ref="sText" />
    					<xf:value ref="sCd" />
    				</xf:itemset>
    			</xf:choices>
    		</xf:select1>
    		<w2:textbox class="sty_lb_Basic" id="Static15" label="본부"
    			style="padding-left:0px;position:absolute;text-align:center;min-width:40px;width:40px;border-style:solid;left:62px;VAlign:Middle;top:137px;"
    			tagname="" />
    		<xf:input class="sty_ipt_form" disabled="true"
    			id="Edt_RqstHdqtName" ref="data:Ds_LTIEA14.sRqstHdqtName"
    			style="position:absolute; border-style:solid;  height:20px;left:110px;top:142px; width:225px;"
    			tabIndex="49" />
    		<w2:textbox class="sty_lb_Basic" id="Static16" label="부(실)"
    			style="padding-left:0px;position:absolute;text-align:center;min-width:40px;width:40px;border-style:solid;left:62px;VAlign:Middle;top:164px;"
    			tagname="" />
    		<xf:input class="sty_ipt_form" disabled="true"
    			id="edt_RqstDeptOffcName" ref="data:Ds_LTIEA14.sRqstDeptOffcName"
    			style="position:absolute; border-style:solid;  height:20px;left:110px;top:168px; width:225px;"
    			tabIndex="51" />


    	</xf:group>
    </body>
</html>
