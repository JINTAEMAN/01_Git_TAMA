<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="/cm/css/all.css" type="text/css"?>
<?xml-stylesheet href="/cm/css/convert.css" type="text/css"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head>
        <w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data/>
            </xf:instance>
            <w2:dataCollection>
                <w2:dataList baseNode="list" id="Ds_Addr_Detail" repeatNode="map" userData2="//*/vector/data/COMAB20"/>
            </w2:dataCollection>
            <w2:workflowCollection/>
        </xf:model>
 <script src="/cm/js/wconv.js"/>
 <script src="/cm/js/convertJs/Global_Script.js"/>
 <script src="/cm/js/convertJs/comm_Webservice.js"/>
 <script src="/cm/js/convertJs/NewGen_Script.js"/>
        <script><![CDATA[
/****************************************************************************
 * 프로그램번호   : A220_Pop
 * 프로그램명     : 우편번호찾기 
 * 파일명         : A220_Pop.xml
 * 프로그램 내용  : 우편번호찾기 
 * 관련 프로그램  : 
 * 작성자         : 김용석 
 * 작성일         : 2010-10-27
 * 저작권         : Copyright ⓒ 2004. the K 손해보험㈜. All Right Reserved.
 * 변경내역       : 
 ****************************************************************************/

scwin.init = function() {
	var indata = $w.getParameter( "param" ); 
	try{
		var fv_args = JSON.parse(indata);
	}catch(e){};
	
    //SOBJ_control.WSDL = gds.gWsdlCCC; //서비스 Obj WSDC 설정
    var nRow = 0;
	/*    
    var MethodObj = gfn_CreateMethodObj(SOBJ_control, "com.inswave.code.task.ZipCodeTask", "getZipPopDetail", "0", "0");
    gfn_SetParam(MethodObj, "sTableSeq", sTableSeq);
    // 검색조건 확인 마침
    gfn_CallService(SOBJ_control, DOBJ_control, MethodObj);
	*/
	var MethodObj = new callService("com.inswave.code.task.ZipCodeTask", "getZipPopDetail", "0", "0");
	MethodObj.setId("getZipPopDetail");
	MethodObj.setParam("sTableSeq", fv_args.sTableSeq);
	MethodObj.setUrl("/common/CBSO040PController.do");
	MethodObj.setXPath("//*/vector/data/COMAB20");
	MethodObj.addXPath("//WARNING");
	MethodObj.sync();
	MethodObj.send();
	//util.interfaceKey(_tranSync.result.serviceDs);
	//DsWs_Team.setJSON (_tranSync.getDsJson("ADMAC03")); // dataset 데이터 
	util.jSonDsCreate(_tranSync.getDsJson("COMAB20"), "Ds_Addr_Detail");
	util.setCompBindRefresh("Ds_Addr_Detail");
	util.setRowPosition(Ds_Addr_Detail, 0);
	
    var sTableNm = wconv.trim(Ds_Addr_Detail.getCellData(nRow, "sTableNm")); //테이블 명
    var sZipType = wconv.trim(Ds_Addr_Detail.getCellData(nRow, "sZipType")); //zipType(입력주소:'',0,1, 지번주소:2, 도로명주소:3)
    var sOrgZipCode = wconv.trim(Ds_Addr_Detail.getCellData(nRow, "sOrgZipCode")); //원본 우편번호
    sOrgZipCode = wconv.substr(sOrgZipCode, 0, 3) + "-" + wconv.substr(sOrgZipCode, 3, 6);
    var sOrgAddr = wconv.trim(Ds_Addr_Detail.getCellData(nRow, "sOrgAddr")); //원본 주소
    var sZipCode = wconv.trim(Ds_Addr_Detail.getCellData(nRow, "sZipCode")); //표준 우편번호
    sZipCode = wconv.substr(sZipCode, 0, 3) + "-" + wconv.substr(sZipCode, 3, 6);
    var sStndJibunAddr1 = wconv.trim(Ds_Addr_Detail.getCellData(nRow, "sStndJibunAddr1")); //표준 지번주소1
    var sStndJibunAddr2 = wconv.trim(Ds_Addr_Detail.getCellData(nRow, "sStndJibunAddr2")); //표준 지번주소2
    var sStndRoadAddr1 = wconv.trim(Ds_Addr_Detail.getCellData(nRow, "sStndRoadAddr1")); //표준 도로명주소1
    var sStndRoadAddr2 = wconv.trim(Ds_Addr_Detail.getCellData(nRow, "sStndRoadAddr2")); //표준 도로명주소2
    Radio_standardType.setDisabled(true);
    if (sZipType == 0 || sZipType == 1 || sZipType == "") {
        Radio_standardType.setValue(0);
    } else if (sZipType == 2) {
        Radio_standardType.setValue(2);
    } else if (sZipType == 3) {
        Radio_standardType.setValue(3);
    }
    tableNm.setValue("(" + sTableNm + ")");
    StdSeq.setValue(fv_args.sTableSeq);
    mConfirmZip.setValue(sOrgZipCode);
    edConfirmAddr.setValue(sOrgAddr);
    mConfirmZip1.setValue(sZipCode);
    edConfirmAddr1.setValue(sStndJibunAddr1 + " " + sStndJibunAddr2);
    mConfirmZip2.setValue(getDecoZipCode(getZipTypeCode(Ds_Addr_Detail, "sZipCode", "sNZipCode")[0]));
    edConfirmAddr2.setValue(sStndRoadAddr1 + " " + sStndRoadAddr2);
    /*
    if(Ds_Addr_Detail.GetColCount()=0){
    	Close();
    }*/
};

scwin.Btn_Close_OnClick = function(e) {
    var ret = "";
    wprom.close(ret);
};
]]></script>
    </head>
    <body>
    	<xf:group class="cont_wrap layer"
    		ev:onblur="scwin.fCom01030s_OnKeyDown" id="0115"
    		style="position:absolute; WorkArea:true; left:8px; top:8px;z-index:0px;"
    		userData1="우편번호 찾기"
    		userData2=" OnLoadCompleted:scwin.fCom01030s_OnLoadCompleted; ">
    		<DataObjects>
    			<DataObject />
    		</DataObjects>
    		<ServiceObjects>
    			<ServiceObject />
    		</ServiceObjects>
    		<xf:group arcsize="6" class="search_area" id="Shape0"
    			style="left:0px;top:30px;width:630px;" userData3="RoundRect">

    		</xf:group>
    		<w2:textbox class="sub_pop_title01" id="Static5"
    			label="우편번호 상세정보 보기"
    			style="position:absolute; VAlign:Middle;  height:22px; left:0px; top:0px; width:221px;"
    			tagname="" />
    		<xf:input class="sty_ipt_form" id="edConfirmAddr"
    			readOnly="TRUE"
    			style="position:absolute; ImeMode:native;  border-style:solid;  background-color:#ffffff; height:20px;left:224px;top:101px; width:398px;"
    			tabIndex="2" />
    		<xf:trigger class="popup_top_btn"
    			ev:onclick="scwin.Btn_Close_OnClick" id="Button3"
    			style="position:absolute; ImageID:btn_Comm_Close;  height:20px;left:581px;top:0px;"
    			tabIndex="4" type="anchor">
    			<xf:label><![CDATA[닫기]]></xf:label>
    		</xf:trigger>
    		<xf:input class="sty_ipt_form" dataType="text"
    			displayFormat="###-###" id="mConfirmZip" readOnly="true"
    			style="position:absolute; border-style:solid;  background-color:#ffffff; height:20px;left:224px;top:74px; width:55px;"
    			tabIndex="5" />
    		<w2:textbox class="sty_lb_Basic" id="Static1" label="우편번호"
    			style="position:absolute;height:26px;width:82px;left:117px;VAlign:Middle;top:71px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static0" label="선택주소"
    			style="position:absolute;height:26px;width:82px;left:117px;VAlign:Middle;top:98px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static2"
    			label="주소표준순번"
    			style="position:absolute; VAlign:Middle;left:1px;top:35px; border:0px; background:transparent !important;"
    			tagname="" />
    		<xf:input class="sty_ipt_form" id="StdSeq" readOnly="TRUE"
    			style="position:absolute; ImeMode:native;  border-style:solid;  background-color:#ffffff; height:20px;left:106px;top:38px; width:95px;"
    			tabIndex="12" />
    		<w2:textbox class="sty_lb_Basic" id="Static3" label="지번주소"
    			style="position:absolute;height:52px;min-width:70px;width:70px;left:32px;VAlign:Middle;top:123px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static4" label="우편번호"
    			style="position:absolute;height:26px;width:82px;left:118px;VAlign:Middle;top:123px;"
    			tagname="" />
    		<xf:input class="sty_ipt_form" dataType="text"
    			displayFormat="###-###" id="mConfirmZip1" readOnly="true"
    			style="position:absolute; border-style:solid;  background-color:#ffffff; height:20px;left:224px;top:126px; width:55px;"
    			tabIndex="14" />
    		<w2:textbox class="sty_lb_Basic" id="Static7" label="선택주소"
    			style="position:absolute;height:25px;width:82px;left:118px;VAlign:Middle;top:150px;"
    			tagname="" />
    		<xf:input class="sty_ipt_form" id="edConfirmAddr1"
    			readOnly="TRUE"
    			style="position:absolute; ImeMode:native;  border-style:solid;  background-color:#ffffff; height:20px;left:224px;top:153px; width:397px;"
    			tabIndex="13" />
    		<w2:textbox class="sty_lb_Basic" id="Static9" label="우편번호"
    			style="position:absolute;height:25px;width:82px;left:117px;VAlign:Middle;top:176px;"
    			tagname="" />
    		<xf:input class="sty_ipt_form" dataType="text"
    			displayFormat="###-###" id="mConfirmZip2" readOnly="true"
    			style="position:absolute; border-style:solid;  background-color:#ffffff; height:20px;left:224px;top:180px; width:55px;"
    			tabIndex="19" />
    		<w2:textbox class="sty_lb_Basic" id="Static10" label="선택주소"
    			style="position:absolute;height:24px;width:82px;left:117px;VAlign:Middle;top:202px;"
    			tagname="" />
    		<xf:input class="sty_ipt_form" id="edConfirmAddr2"
    			readOnly="TRUE"
    			style="position:absolute; ImeMode:native;  border-style:solid;  background-color:#ffffff; height:20px;left:224px;top:205px; width:397px;"
    			tabIndex="18" />
    		<w2:textbox class="sty_lb_Basic" id="Static8" label="도로명주소"
    			style="position:absolute;height:50px;min-width:70px;width:70px;left:32px;VAlign:Middle;top:176px;"
    			tagname="" />
    		<w2:textbox class="sty_lb_Basic" id="Static6" label="입력주소"
    			style="position:absolute;height:51px;min-width:70px;width:70px;left:32px;VAlign:Middle;top:71px;"
    			tagname="" />
    		<w2:textbox id="tableNm"
    			style="position:absolute; height:21px;left:209px;top:38px; width:129px;"
    			tagname="" />
    	</xf:group>

    	<xf:group arcsize="6" class="sty_area_form" id="group1"
    		style="position:absolute; right:736px;  bottom:608px;height:157px;left:0px;top:71px;width:630px;"
    		userData3="RoundRect">
    		<xf:group class="form_w_line" id=""
    			style="top:26px;left:121px;width:507px;">
    		</xf:group>
    		<xf:group class="form_w_line" id=""
    			style="top:51px;left:0px;">
    		</xf:group>
    		<xf:group class="form_w_line" id=""
    			style="top:78px;left:121px;width:507px;">
    		</xf:group>
    		<xf:group class="form_w_line" id=""
    			style="top:104px;left:0px;">
    		</xf:group>
    		<xf:group class="form_w_line" id=""
    			style="top:130px;left:121px;width:507px;">
    		</xf:group>
    		<xf:select1 id="Radio_standardType" userData1="3"
    			appearance="full"
    			style="position:absolute; border-color:#fff;  border-style:solid;  background-color:none; height:148px;left:0px;top:0px;padding:0 0px 0 7px ;"
    			tabIndex="10" class="sty_ipt_search" rows="3">
    			<xf:choices>
    				<xf:item>
    					<xf:label></xf:label>
    					<xf:value><![CDATA[0]]></xf:value>
    				</xf:item>
    				<xf:item>
    					<xf:label></xf:label>
    					<xf:value><![CDATA[2]]></xf:value>
    				</xf:item>
    				<xf:item>
    					<xf:label></xf:label>
    					<xf:value><![CDATA[3]]></xf:value>
    				</xf:item>
    			</xf:choices>
    			<Layout></Layout>
    			<Layout></Layout>
    			<Layout></Layout>
    		</xf:select1>
    	</xf:group>

    	<xf:group class="form_w_line" id=""
    		style="position:absolute;top:123px;left:0px;displqay:inline-block;z-index:100;width:100Px;height:1px;background:#e8e8e8;">
    	</xf:group>
    	<xf:group class="form_w_line" id=""
    		style="position:absolute;top:176px;left:0px;displqay:inline-block;z-index:100;width:100Px;height:1px;background:#e8e8e8;">
    	</xf:group>
    </body>
</html>
