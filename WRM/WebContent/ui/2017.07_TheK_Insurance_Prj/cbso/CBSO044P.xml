<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="/cm/css/all.css" type="text/css"?>
<?xml-stylesheet href="/cm/css/convert.css" type="text/css"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head>
        <w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data/>
            </xf:instance>
            <w2:dataCollection>
                <w2:dataList baseNode="list" id="DS_chk" repeatNode="map">
                    <w2:columnInfo>
                        <w2:column dataType="text" id="code" name="code"/>
                        <w2:column dataType="text" id="code_nm" name="code_nm"/>
                    </w2:columnInfo>
                    <w2:data use="true">
                        <w2:row>
                            <code><![CDATA[9]]></code>
                            <code_nm><![CDATA[-선택-]]></code_nm>
                        </w2:row>
                        <w2:row>
                            <code/>
                            <code_nm><![CDATA[예]]></code_nm>
                        </w2:row>
                        <w2:row>
                            <code><![CDATA[1]]></code>
                            <code_nm><![CDATA[아니오]]></code_nm>
                        </w2:row>
                    </w2:data>
                </w2:dataList>
                <w2:dataList baseNode="list" id="DS_con" repeatNode="map"/>
                <w2:dataList baseNode="list" id="Ds_UserInfo" repeatNode="map">
                    <w2:columnInfo>
                        <w2:column dataType="text" id="sCustNo" name="sCustNo"/>
                        <w2:column dataType="text" id="nSeqNo" name="nSeqNo"/>
                        <w2:column dataType="text" id="sCustType" name="sCustType"/>
                        <w2:column dataType="text" id="sName" name="sName"/>
                        <w2:column dataType="text" id="sMarry" name="sMarry"/>
                        <w2:column dataType="text" id="sMutualYn" name="sMutualYn"/>
                        <w2:column dataType="text" id="sTeachYn" name="sTeachYn"/>
                        <w2:column dataType="text" id="sJobMemo" name="sJobMemo"/>
                        <w2:column dataType="text" id="sClass" name="sClass"/>
                        <w2:column dataType="text" id="sJobGroup" name="sJobGroup"/>
                        <w2:column dataType="text" id="sJobCode" name="sJobCode"/>
                    </w2:columnInfo>
                </w2:dataList>
                <w2:dataList baseNode="list" id="ds_Wanning" repeatNode="map"/>
                <w2:dataList baseNode="list" id="ds_accept" repeatNode="map">
                    <w2:columnInfo>
                        <w2:column dataType="text" id="code" name="code"/>
                        <w2:column dataType="text" id="name" name="name"/>
                    </w2:columnInfo>
                    <w2:data use="true">
                        <w2:row>
                            <code/>
                            <name><![CDATA[예]]></name>
                        </w2:row>
                        <w2:row>
                            <code><![CDATA[1]]></code>
                            <name><![CDATA[아니오]]></name>
                        </w2:row>
                    </w2:data>
                </w2:dataList>
                <w2:dataList baseNode="list" id="DS_confidence" repeatNode="map" userData2="//CUSAA42 ">
                    <w2:columnInfo>
                        <w2:column dataType="text" id="sCustNo" name="sCustNo"/>
                        <w2:column dataType="text" id="sName" name="sName"/>
                        <w2:column dataType="text" id="nSeqNo" name="nSeqNo"/>
                        <w2:column dataType="text" id="nChangeNo" name="nChangeNo"/>
                        <w2:column dataType="text" id="sCallReject" name="sCallReject"/>
                        <w2:column dataType="text" id="sDMReject" name="sDMReject"/>
                        <w2:column dataType="text" id="sFaxReject" name="sFaxReject"/>
                        <w2:column dataType="text" id="sEmailReject" name="sEmailReject"/>
                        <w2:column dataType="text" id="sSMSReject" name="sSMSReject"/>
                        <w2:column dataType="text" id="sAffilReject" name="sAffilReject"/>
                        <w2:column dataType="text" id="sAffilCallReject" name="sAffilCallReject"/>
                        <w2:column dataType="text" id="sDesc" name="sDesc"/>
                        <w2:column dataType="text" id="sInputDate" name="sInputDate"/>
                        <w2:column dataType="text" id="sInputTime" name="sInputTime"/>
                        <w2:column dataType="text" id="sUserID" name="sUserID"/>
                        <w2:column dataType="text" id="sUserName" name="sUserName"/>
                        <w2:column dataType="text" id="sApproveStat" name="sApproveStat"/>
                        <w2:column dataType="text" id="sApproveDate" name="sApproveDate"/>
                        <w2:column dataType="text" id="sApproveTime" name="sApproveTime"/>
                        <w2:column dataType="text" id="sApproveID" name="sApproveID"/>
                        <w2:column dataType="text" id="sReflectYN" name="sReflectYN"/>
                    </w2:columnInfo>
                </w2:dataList>
                <w2:dataList baseNode="list" id="DsWs_Search" repeatNode="map" userData2="//CUSAA27"/>
                <w2:dataList baseNode="list" id="DsWs_Warning" repeatNode="map" userData2="//*/WARNING"/>
                <w2:dataList baseNode="list" id="DsWs_Insert" repeatNode="map" userData2="//CUSAA42 "/>
                <w2:dataList baseNode="list" id="DsWs_Warning1" repeatNode="map" userData2="//*/WARNING"/>
                <w2:dataList baseNode="list" id="DsWs_List" repeatNode="map" userData2="//*/CUSAA01"/>
            </w2:dataCollection>
            <w2:workflowCollection/>
        </xf:model>
 <script src="/cm/js/common.js"/>
 <script src="/cm/js/val_lib.js"/>
 <script src="/cm/js/util.js"/>
 <script src="/cm/js/transSub.js"/>
 <script src="/cm/js/callService.js"/>
 <script src="/cm/js/gds.js"/>
 <script src="/cm/js/wconv.js"/>
 <script src="/cm/js/convertJs/Global_Script.js"/>
 <script src="/cm/js/convertJs/comm_Webservice.js"/>
 <script src="/cm/js/convertJs/LongTerm_Script.js"/>
        <script><![CDATA[
/****************************************************************************
 * 프로그램번호   : A096_Pop
 * 프로그램명     : 가입설계를 위한 개인(신용)정보처리 동의
 * 파일명         : A096_Pop.xml
 * 프로그램 내용  : 가입설계시 개인정보 처리 동의
 * 관련 프로그램  : 
 * 작성자         : 이동후
 * 작성일         : 2012-07-23
 * 저작권         : Copyright ⓒ 2012. the K 손해보험㈜. All Right Reserved.
 * 변경내역       : 
 ****************************************************************************/

// 변수 
var argss;
var nSeqNo = 0;
var sRejectYN;
var flag = 0;
var sSaveClickYn = "";
var sSearchClickYn = "";
var sGdFlag = "";
var sToday = "";//당일자
var sysDate = "";//서버 시간
var sStrtDate = "";//서버 날짜
var sStrtTime = "";//서버 시분초.
var sEndDate = "";//서버 날짜
var sEndTime = "";//서버 시분초.
var sSaveYN = "";//저장여부 
var sProductType = "";//조회시 구분(1:자동차,2:일반, 3:장기)
var custKey_temp;
var fv_args;
var sHandlerID="";
//---------------------------------------------------------------------------
// function 명 : lfn_OnLoadCompleted
// 내용        : 폼로드할때 처리할 내용 
//---------------------------------------------------------------------------
scwin.init = function() {
	var indata = $w.getParameter("param");//
	try {
		fv_args = JSON.parse(indata);
	} catch(e) {}

	if(!util.isNull(fv_args.sHandlerID)){
		sHandlerID = fv_args.sHandlerID;
	};
    if (wconv.length(fv_args.sCustNo) > 1) {
        //if ( length(sJupiCode) > 1) {
        //resultArr =  sJupiCode;
        //resultArr = wconv.split(replace(argss, " ", ""), "^", "webstyle");
        Edt_CustNo.setValue(fv_args.sCustNo);//wconv.trim(resultArr[0]));
        //nSeqNo          = toNumber(trim(resultArr[1])); 
        Edt_Name.setValue(fv_args.sName);//wconv.trim(resultArr[1]));
        sProductType = wconv.trim(fv_args.sProductType);//resultArr[2]);
       	sGdType = wconv.trim(fv_args.sGdType);//resultArr[3]);
       	custKey_temp = wconv.trim(fv_args.custKey_tem);//resultArr[4]);
console.log("★★★★"+sGdType+" : " +custKey_temp);        
        scwin.lfn_Btn_enable(); //버튼 비활성화
        scwin.lfn_bt_search(Edt_CustNo.getValue(), "Y");
        if ((sGdType == "1")) {
            //권원보험 
            /*Div0.stc_32AgreText.Value = "보험상담 및 인수여부 결정을 위해 성명, 주민번호, 연락처, 매수부동산"+chr(13)+chr(10)
                                       +"주소 등의 고유식별정보를 3개월간 수집.이용하고 1년간 보유하는데"+chr(13)+chr(10)
                                       +"동의 하십니까?";
              */
            /*Div0.stc_32AgreText.Value = "원활한 보험상담을 위해 고객님의 성명, 주민번호 등 보험계약관련 정보를"+chr(13)+chr(10)
			                           +"권리조사기관, 등기관련업체 등에 3개월간 수집·이용 및 제공하고 최대 1년간"+chr(13)+chr(10)
			                           +"보관하는데 동의하십니까? ";			                           */
            Div0_stc_32AgreText.setValue("당사 및 당사 업무수탁자는 원활한 보험상담을 위해 고객님의 성명, 주민번호" + chr(13) + chr(10) + "등 매매계약서상의 개인식별정보, 보험계약관련 정보를 권리조사기관, 등기" + chr(13) + chr(10) + "관련업체 등에 3개월간 수집\xB7이용 및 제공하고 최대 1년간 보관하는데 동의" + chr(13) + chr(10) + "하십니까? ");

            //Div0.Static1.Value = "같은 목적으로 고유식별정보(주민등록번호)를 처리하는데도 동의하십니까? ";	
            Div0_Static1.setValue("같은 목적으로 고유식별정보(주민등록번호)를 처리하는데도 동의하십니까? " + chr(13) + chr(10) + "홈페이지 및 고객센터(1566-3000)를 통해 철회하거나 보험계약상담 목적의" + chr(13) + chr(10) + "연락에 대한 중단을 요청하실 수 있습니다.");

            //Div0.Static0.Value = "3. 제공";
            Div0_Static2.Value = "고유식별정보 처리에 동의해 주시는 거죠?";
        } else if ((sGdType == "2")) {
            btn_RecStrt.setValue("입력");
            btn_RecStrt.ToolTipText = "버튼 클릭시 확인 버튼이 활성화 됩니다.";
            Btn_save.setValue("확인");
            Btn_save.ToolTipText = "입력 버튼 선택시 활성화가 됩니다.";
        }
    } else {
        wprom.alert("검색 조건이 없습니다.");
        return false;
    }



    //Div0.Cmb_sCallReject.Visible = true;
    //현재시간 가져오기
    gfn_getServerTime();
    var getSysDate = gds.gDs_ServerTime.getCellData(0, "sToday");
    //서버시간으로 pc시간 동기화 처리
    //ext_SetTime(getSysDate);
    sToday = wconv.mid(getSysDate, 0, 8);
};

//---------------------------------------------------------------------------
// function 명 : lfn_Btn_enable
// 내용        : 계약상태에 따른 버튼 비활성화
//---------------------------------------------------------------------------
scwin.lfn_Btn_enable = function() {
    Btn_save.setDisabled(true);
};

//---------------------------------------------------------------------------
// function 명 : lfn_Btn_search_OnClick
// 내용        : 조회버튼 클릭 이벤트
//---------------------------------------------------------------------------
scwin.lfn_Btn_search_OnClick = function(obj) {
    if (Edt_Name.getValue() == "") {
        //이름이 없는 경우 이름을 찾아옴.
        wconv.clear(DsWs_List);
        /*
        SOBJ_List.WSDL = gds.gWsdlBasis; // 서비스 Obj WSDC 설정
        DsWs_Warning1.DataObject = "DOBJ_List";
        var MethodObj = gfn_CreateMethodObj(SOBJ_List, "com.inswave.customer.task.CustTask", "getCustBasicInfo", "5", "1");
        gfn_SetParam(MethodObj, "sCustNo", wconv.trim(Edt_CustNo.getValue())); //고객번호 text 
        var result = gfn_CallService(SOBJ_List, DOBJ_List, MethodObj);
        */
		var MethodObj = new callService("com.inswave.customer.task.CustTask", "getCustBasicInfo");
		MethodObj.setId("getCustBasicInfo");
        MethodObj.setParam( "sCustNo", wconv.trim(Edt_CustNo.getValue())); //고객번호 text 
		MethodObj.setUrl("/common/CBSO044PController.do");
		MethodObj.setXPath("//*/CUSAA01");
		MethodObj.addXPath("//WARNING");
		MethodObj.sync();
		MethodObj.send();
		//util.interfaceKey(_tranSync.result.serviceDs);
		//DsWs_Team.setJSON (_tranSync.getDsJson("ADMAC03")); // dataset 데이터 
		util.jSonDsCreate(_tranSync.getDsJson("CUSAA01"), "DsWs_List");
		util.jSonDsCreate(_tranSync.getDsJson("WARNING"), "DsWs_Warning1");
		//util.setCompBindRefresh("DsWs_List");
		util.setRowPosition(DsWs_List, 0);
        
        if (DsWs_Warning1.getRowCount() != 0) {
            wprom.alert(DsWs_Warning1.getCellData(0, "msg"));
            return;
        }
        if (DsWs_List.getRowCount() > 0) {
            Edt_Name.setValue( DsWs_List.getCellData(0, "sName") );
        }
    }
    scwin.lfn_bt_search(Edt_CustNo.getValue(), "Y");
};

//---------------------------------------------------------------------------
// function 명 : lfn_bt_search
// 내용        : 가입설계를 위한 개인동의 조회
//---------------------------------------------------------------------------
scwin.lfn_bt_search = function(sCustNo, sSearchYn) {
    wconv.clear(DS_confidence);
    wconv.clear(DS_con);
    if (sSearchYn == "Y") {
    	/*
        SOBJ.WSDL = gds.gWsdlBasis; // 서비스 Obj WSDC 설정
        var MethodObj = gfn_CreateMethodObj(SOBJ, "com.inswave.customer.task.CustTask", "getCUSAA42Info", 0, 0); // 자동차보험 Task Call 
        gfn_SetParam(MethodObj, "sCustNo", Edt_CustNo.getValue());
        gfn_SetParam(MethodObj, "sProductType", sProductType);
        gfn_SetParam(MethodObj, "custKey_temp", custKey_temp);
        var result = gfn_CallService(SOBJ, DOBJ, MethodObj);
        */
		var MethodObj = new callService("com.inswave.customer.task.CustTask", "getHandlerCUSAA42Info", 0, 0); // 자동차보험 Task Call 
		MethodObj.setId("getHandlerCUSAA42Info");
		MethodObj.setParam("sCustNo", Edt_CustNo.getValue());
		MethodObj.setParam("sProductType", sProductType);
		MethodObj.setParam("custKey_temp", custKey_temp);
		MethodObj.setParam("sHandlerID", sHandlerID); //추가된 param
		
		MethodObj.setUrl("/common/CBSO044PController.do");
		MethodObj.setXPath("//CUSAA42 ");
		MethodObj.addXPath("//WARNING");
		MethodObj.sync();
		MethodObj.send();
		//util.interfaceKey(_tranSync.result.serviceDs);
		//DsWs_Team.setJSON (_tranSync.getDsJson("ADMAC03")); // dataset 데이터 
		util.jSonDsCreate(_tranSync.getDsJson("CUSAA42"), "DS_confidence");
		util.jSonDsCreate(_tranSync.getDsJson("CUSAA42"), "DS_con");
		util.jSonDsCreate(_tranSync.getDsJson("WARNING"), "WARNING");
		//util.setCompBindRefresh("DS_confidence");
		util.setRowPosition(DS_confidence, 0);
        
        //trace(DS_confidence.SaveXML());
        //trace(DOBJ.Contents);
        if (WARNING.getRowCount() != 0) {
            wprom.alert("웹서비스 이상입니다.");
            return;
        } else {
            sSearchClickYn = "Y";
            this.status = "정상적으로 조회 되었습니다..";
        }
    }



    //trace("sRejectYN = LDH = :" + sRejectYN); //23조 동의 여부
    //gfn_MakeDsReturn 는 데이터셋 컬럼을 만들고 컬럼 데이터가 있으면 넣고 없으면 컬럼만 만든다..
    if (DS_confidence.getCellData(0, "result") > 0) {
        //gfn_MakeDsReturn(DS_confidence, DS_con);
        if (DS_confidence.getCellData(0, "sExpired") == "N") {
            //만기가 된 경우 화면 초기화.
            Div0_chk_agree1.setValue(iif(DS_con.getCellData(0, "sAgmYn1") == "Y", "1", ""));
            Div0_chk_agree2.setValue(iif(DS_con.getCellData(0, "sAgmYn3") == "Y", "1", "")); //Div0.chk_agree3.Value = iif(DS_con.GetColumn(0,"sAgmYn2")=="Y", "1","");
        }
    } else {
        gfn_getServerTime();
        sysDate = gds.gDs_ServerTime.getCellData(0, "sToday"); // 서버시간	
        Div0_Edt_sReqDate.setValue(wconv.mid(sysDate, 0, 8));
        Div0_Edt_sReqID.setValue(util.getGdsValue("gUserID"));
        Div0_Edt_sUserName.setValue(gds.gUserEmpName);
    }
};

//---------------------------------------------------------------------------
// function 명 : lfn_Btn_save_OnClick
// 내용        : 신용정보저장 버튼  클릭 이벤트
//---------------------------------------------------------------------------
scwin.lfn_Btn_save_OnClick = function(obj) {
    if (scwin.lfn_validation()) {
        return;
    }
    scwin.btn_RecEnd_OnClick();
    scwin.btn_SaveInfo_OnClick();
};

//---------------------------------------------------------------------------
// function 명 : lfn_validation
// 내용        : 체크여부 확인
//---------------------------------------------------------------------------
scwin.lfn_validation = function() {
    if (Div0_chk_agree1.getValue() != "1") {
        wprom.alert("수집이용,조회 동의를 선택하세요.");
        return true;
    }
    if (Div0_chk_agree2.getValue() != "1") {
        wprom.alert("고유식별정보 민감정보 동의를 선택하세요.");
        return true;
    }


    /*if(Div0.chk_agree3 != "1"){
    	alert("조회 동의를 선택하세요.");
    	return true;
    }*/
    return false;
};

//---------------------------------------------------------------------------
// function 명 : lfn_Btn_close_OnClick
// 내용        : 닫기버튼 클릭 이벤트
//---------------------------------------------------------------------------
scwin.lfn_Btn_close_OnClick = function(e) {
    var RejectYN = "";
    if (sSaveYN == "Y") {
        RejectYN = "N";
    } else {
        RejectYN = "Y";
    }
    wprom.close(RejectYN);
};

//---------------------------------------------------------------------------
// function 명 : btn_SaveInfo_OnClick
// 내용        : 정보제공저장 버튼 클릭시처리
//                가입설계를 위한 개인 정보처리 동의 조회   
//---------------------------------------------------------------------------
scwin.btn_SaveInfo_OnClick = function(obj) {
    var sJupiCode = Edt_CustNo.getValue();
    if (sJupiCode == null || sJupiCode == "") {
        wprom.alert("상담중인 고객번호를 유실했습니다");
        return;
    }
    wconv.clear(DsWs_Insert);
    /*
    SOBJ_Insert.WSDL = gds.gWsdlBasis;
    //var MethodObj = gfn_CreateMethodObj(SOBJ_Insert, "CustTask", "insert23Info", "", "");
    var MethodObj = gfn_CreateMethodObj(SOBJ_Insert, "com.inswave.customer.task.CustTask", "setCUSAA42Info", "", "");
    wconv.clear(DsWs_Insert);
    //trace("sCustNo="+sJupiCode+"custKey_temp="+custKey_temp);
    gfn_SetParam(MethodObj, "sCustNo", sJupiCode);
    gfn_SetParam(MethodObj, "sProductType", sProductType);
    gfn_SetParam(MethodObj, "custKey_temp", custKey_temp);
    gfn_SetParam(MethodObj, "sAgmYn", "Y");
    gfn_SetParam(MethodObj, "sAgmYn1", "Y");
    gfn_SetParam(MethodObj, "sAgmYn2", "Y");
    gfn_SetParam(MethodObj, "sAgmYn3", "Y");
    gfn_SetParam(MethodObj, "sAgmYn4", "Y");
    gfn_SetParam(MethodObj, "sAgmYn5", "");
    gfn_SetParam(MethodObj, "sInputDate", sEndDate);
    gfn_SetParam(MethodObj, "sInputTime", sEndTime);
    gfn_SetParam(MethodObj, "sInputID", util.getGdsValue("gUserID"));
    gfn_SetParam(MethodObj, "sInputIP", gds.gUserIP);
    gfn_SetParam(MethodObj, "sRecStartDate", sStrtDate);
    gfn_SetParam(MethodObj, "sRecStartTime", sStrtTime);
    gfn_SetParam(MethodObj, "sRecEndDate", sEndDate);
    gfn_SetParam(MethodObj, "sRecEndTime", sEndTime);
    gfn_SetParam(MethodObj, "nCallSerial", gds.gCallSerial);
    gfn_SetParam(MethodObj, "sCustType", "");

    //gfn_SetParam(MethodObj,  "nSeqNo", "0");	
    //gfn_SetParam(MethodObj,  "s23Reject", sYN);	
    //gfn_SetParam(MethodObj,  "sUserID", gUserID);	
    //gfn_SetParam(MethodObj,  "sInputPath", "1");	
    //gfn_SetParam(MethodObj,  "sEventDiv", "");	
    var result = gfn_CallService(SOBJ_Insert, DOBJ_Insert, MethodObj);
	*/
	var MethodObj = new callService("com.inswave.customer.task.CustTask", "setCUSAA42Info", "", "");
	MethodObj.setId("setCUSAA42Info");
	//MethodObj.setParam("sAgentCode", gUserID);
    MethodObj.setParam( "sCustNo", sJupiCode);
    MethodObj.setParam( "sProductType", sProductType);
    MethodObj.setParam( "custKey_temp", custKey_temp);
    MethodObj.setParam( "sAgmYn", "Y");
    MethodObj.setParam( "sAgmYn1", "Y");
    MethodObj.setParam( "sAgmYn2", "Y");
    MethodObj.setParam( "sAgmYn3", "Y");
    MethodObj.setParam( "sAgmYn4", "Y");
    MethodObj.setParam( "sAgmYn5", "");
    MethodObj.setParam( "sInputDate", sEndDate);
    MethodObj.setParam( "sInputTime", sEndTime);
    MethodObj.setParam( "sInputID", util.getGdsValue("gUserID"));
    MethodObj.setParam( "sInputIP", util.getGdsValue("gUserIP"));
    MethodObj.setParam( "sRecStartDate", sStrtDate);
    MethodObj.setParam( "sRecStartTime", sStrtTime);
    MethodObj.setParam( "sRecEndDate", sEndDate);
    MethodObj.setParam( "sRecEndTime", sEndTime);
    MethodObj.setParam( "nCallSerial", util.getGdsValue("gCallSerial") );
    MethodObj.setParam( "sCustType", "");	
	MethodObj.setUrl("/common/CBSO044PController.do");
	MethodObj.setXPath("//CUSAA42");
	MethodObj.addXPath("//WARNING");
	MethodObj.sync();
	MethodObj.send();
	//util.interfaceKey(_tranSync.result.serviceDs);
	//DsWs_Team.setJSON (_tranSync.getDsJson("ADMAC03")); // dataset 데이터 
	util.jSonDsCreate(_tranSync.getDsJson("WARNING"), "WARNING");
	
    //trace(DOBJ_Insert.Contents);
    //trace(result);
    if (WARNING.getRowCount() != 0) {
        wprom.alert("웹서비스 이상입니다.");
        return;
    } else if (WARNING.getRowCount() != 0) {
        wprom.alert(WARNING.getCellData(0, "msg"));
        return;
    } else {
    	var promise = Promise.resolve();
    	promise = promise.then(function(){
        	return wprom.alert("저장 되었습니다.");
        });
    	promise = promise.then(function(){
	        sSaveYN = "Y";
	        wprom.close("N");
	        return;
	    });    
	    return promise;
    }
};

//---------------------------------------------------------------------------
// function 명 : btn_RecStrt_OnClick
// 내용        : 녹취 정보 콜.
//---------------------------------------------------------------------------
scwin.btn_RecStrt_OnClick = function(e) {
    // 서버시간 조회
    gfn_getServerTime();
    sysDate = gds.gDs_ServerTime.getCellData(0, "sToday"); // 서버시간	
    sStrtDate = wconv.mid(sysDate, 0, 8);
    sStrtTime = wconv.mid(sysDate, 8, 6);
    Btn_save.setDisabled(false);
};

//---------------------------------------------------------------------------
// function 명 : btn_RecEnd_OnClick
// 내용        : 녹취 정보 콜.
//---------------------------------------------------------------------------
scwin.btn_RecEnd_OnClick = function(e) {
    // 서버시간 조회
    gfn_getServerTime();
    sysDate = gds.gDs_ServerTime.getCellData(0, "sToday"); // 서버시간	
    sEndDate = wconv.mid(sysDate, 0, 8);
    sEndTime = wconv.mid(sysDate, 8, 6);
};
]]></script>
    </head>
    <body>
        <xf:group class="cont_wrap layer" id="fCut01088s"
        	style="position:absolute; WorkArea:true; left:0px; top:0px;"
        	userData1="가입설계를 위한 개인(신용)정보처리 동의"
        	userData2=" OnLoadCompleted:scwin.lfn_OnLoadCompleted; ">
        	<DataObjects>
        		<DataObject />
        		<DataObject />
        		<DataObject />
        		<DataObject />
        		<DataObject />
        	</DataObjects>
        	<ServiceObjects>
        		<ServiceObject />
        		<ServiceObject />
        		<ServiceObject />
        		<ServiceObject />
        		<ServiceObject />
        	</ServiceObjects>
        	<xf:group arcsize="6" class="search_area" id="Shape9"
        		style="left:0px;top:30px;width:620px;"
        		userData3="RoundRect">
        	</xf:group>
        	<w2:textbox class="sty_lb_Basic" id="Static13" label="주민번호"
        		style="position:absolute; VAlign:Middle;  border-style:solid; height:20px;left:10px;top:36px;border:none;width:60px;min-width:60px;"
        		tagname="" />
        	<xf:input class="sty_ipt_form" id="Edt_Name"
        		maxByteLength="30" readOnly="TRUE"
        		style="position:absolute; ImeMode:native;  border-style:solid;  height:20px;left:214px;top:37px; width:100px;"
        		tabIndex="1" />
        	<xf:trigger class="btn_Comm_Search"
        		ev:onclick="scwin.lfn_Btn_search_OnClick" id="Btn_search"
        		style="position:absolute; ImageID:btn_Input_02;  height:20px;left:548px;top:37px; width:45px;"
        		tabIndex="3" type="anchor">
        		<xf:label><![CDATA[조회]]></xf:label>
        	</xf:trigger>
        	<xf:trigger class="btn_Comm_Close"
        		ev:onclick="scwin.lfn_Btn_close_OnClick" id="Btn_close"
        		style="position:absolute; display:none;  ImageID:btn_Comm_Close;  height:20px; left:534px; top:336px; width:58px;"
        		tabIndex="4" toolTip="저장되지 않고 종료합니다.">
        		<xf:label><![CDATA[닫기]]></xf:label>
        	</xf:trigger>
        	<w2:textbox id="Static0" label="가입설계를 위한 개인(신용)정보처리 동의"
        		style="position:absolute; VAlign:Middle;  height:20px; left:0px; top:0px; width:273px;"
        		tagname="" class="sub_pop_title01" />
        	<xf:group class="" id="Div0"
        		style="position:absolute;height:264px; left:0px; top:64px;width:605px;"
        		tabIndex="7" userData1="Div0">
        		<xf:group arcsize="6" class="sty_area_form" id="group1" style="position:absolute;  bottom:608px;height:252px;left:0px;top:8px;width:620px;" userData3="RoundRect">
        			<xf:group class="form_w_line" id="" style="top:158px;left:0px;">
        			</xf:group>
        			<xf:group class="form_w_line" id="" style="top:223px;left:0px;">
        			</xf:group>
        		</xf:group><xf:group arcsize="8" class="" id="Div0_Shape5"
        			style="position:absolute;  bottom:264px; height:244px; left:0px;top:10px; width:587px;"
        			userData3="RoundRect" />
        		<w2:textbox class="sty_lb_Detail" id="Div0_Static3"
        			style="position:absolute;  background-color:#e1e1e1; height:158px;left:548px;top:8px; width:72px;"
        			tagname="" />
        		<w2:textbox class="sty_lb_Detail" id="Div0_Static4"
        			style="position:absolute;  background-color:#e1e1e1; height:65px;left:548px;top:167px; width:72px;"
        			tagname="" />
        		<w2:textbox class="sty_lb_Basic" id="Div0_Static16"
        			label="1. 수집.이용     조회"
        			style="position:absolute;height:158px;width:100px;border-style:solid;left:0 px;VAlign:Middle;top:8px;"
        			tagname="" />
        		<w2:textbox class="sty_lb_Basic" id="Div0_Static14"
        			label="2. 고유식별     정보"
        			style="position:absolute;height:64px;width:100px;border-style:solid;left:0px;VAlign:Middle;top:167px;"
        			tagname="" />
        		<w2:textbox class="sty_lb_Basic" id="Div0_Static10"
        			label="입력일"
        			style="position:absolute;width:100px;border-style:solid;left:0px;VAlign:Middle;top:232px;"
        			tagname="" />
        		<w2:textbox class="sty_lb_Basic" id="Div0_Static17"
        			label="입력자"
        			style="position:absolute;width:60px;border-style:solid;left:267px;VAlign:Middle;top:232px;min-width:60px;"
        			tagname="" />
        		<xf:input class="sty_ipt_form" dataType="text"
        			disabled="true" displayFormat="####/##/##"
        			id="Div0_Edt_sReqDate" maxlength="8" readOnly="true"
        			ref="data:DS_con.sInputDate"
        			style="position:absolute; border-style:solid;  height:20px;left:122px;top:236px; width:134px;"
        			tabIndex="6" />
        		<xf:input class="sty_ipt_form" disabled="true"
        			id="Div0_Edt_sReqID" maxByteLength="30" readOnly="TRUE"
        			ref="data:DS_con.sInputID"
        			style="position:absolute; ImeMode:native;  border-style:solid;  height:20px;left:349px;top:236px; width:140px;"
        			tabIndex="7" />
        		<xf:input class="sty_ipt_form" disabled="true"
        			id="Div0_Edt_sUserName" maxByteLength="30" readOnly="TRUE"
        			ref="data:DS_con.sUserName"
        			style="position:absolute; ImeMode:native;  border-style:solid;  height:20px;left:493px;top:236px; width:110px;"
        			tabIndex="8" />
        		<xf:select appearance="full" class="sty_ipt_form"
        			id="Div0_chk_agree1"
        			style="position:absolute; Value:FALSE; height:20px;left:555px;top:82px; width:59px;border:none;"
        			tabIndex="9" cols="" rows="" falseValue="0">
        			<xf:choices>
        				<xf:item>
        					<xf:label><![CDATA[동의함]]></xf:label>
        					<xf:value><![CDATA[1]]></xf:value>
        				</xf:item>
        			</xf:choices>
        		</xf:select>
        		<w2:textbox class="sty_lb_Detail"
        			id="Div0_stc_32AgreText"
        			label="원활한 보험설계를 위해 다음의 동의가 필요한데요, 만약 동의하지 않을 경우 보험설계 서비스제공이 어려우며, 동의 내용은 녹음됩니다.[당사 및 당사업무수탁자]는 고객님의 성명, 주민번호 등 개인식별정보, 건강정보(질병/상해), 보험계약, 보험금지급 관련 정보를 신용정보집중기관(한국신용정보원, 은행연합회) 및 보험요율산출기관 등에 최대 3개월간 수집,이용 및 조회, 1년간 보유하고 계약적부 조사가 필요한 경우에 한하여 수집,이용 동의일부터 3개월간 위탁업체 등 [제3자]에 제공하는데 동의 하시는거죠?"
        			style="position:absolute;line-height:15px;height:158px;width:416px;left:121px;top:8px;"
        			tagname="" />
        		<w2:textbox class="sty_lb_Detail" id="Div0_Static1"
        			label="같은 목적으로 주민등록번호와 질병, 상해정보 처리에도  동의해 주시는 거죠? (※ 고유식별정보=주민등록번호, 외국인등록번호) 동의 철회는 당사 홈페이지 및 고객센터(1566-3000)를 통해 가능합니다."
        			style="position:absolute;line-height:15px;height:64px;width:416px;left:121px;top:168px;"
        			tagname="" />
        		<xf:select appearance="full" class="sty_ipt_form"
        			id="Div0_chk_agree2"
        			style="position:absolute;Value:FALSE;height:20px;left:555px;top:188px;width:57px;border:none;"
        			tabIndex="12" falseValue="0" cols="" rows="">
        			<xf:choices>
        				<xf:item>
        					<xf:label><![CDATA[동의함]]></xf:label>
        					<xf:value><![CDATA[1]]></xf:value>
        				</xf:item>
        			</xf:choices>
        		</xf:select>

        	</xf:group>
        	<xf:trigger class="popup_top_btn"
        		ev:onclick="scwin.btn_RecStrt_OnClick" id="btn_RecStrt"
        		style="position:absolute;height:20px;ImageID:btn_Input_04;width:65px;left:449px;top:0px;"
        		tabIndex="9" toolTip="버튼 클릭시 저장 및 종료버튼이 활성화 됩니다."
        		type="anchor">
        		<xf:label><![CDATA[녹취 시작]]></xf:label>
        	</xf:trigger>
        	<xf:trigger class="popup_top_btn"
        		ev:onclick="scwin.lfn_Btn_save_OnClick" id="Btn_save"
        		style="position:absolute;height:20px;ImageID:btn_Input_06;width:75px;left:528px;top:0px;"
        		tabIndex="10" toolTip="녹취시작 버튼 선택시 활성화가 됩니다." type="anchor">
        		<xf:label><![CDATA[저장 후 닫기]]></xf:label>
        	</xf:trigger>
        	<xf:input class="sty_ipt_search" dataType="text"
        		disabled="true" displayFormat="######-ZZZZZZZ" id="Edt_CustNo"
        		style="position:absolute; cursor:text;  border-style:solid;  height:20px;left:92px;top:37px; width:120px;"
        		tabIndex="11" />
        </xf:group>
    </body>
</html>
